var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},BaseModule=function(){function t(){}return t.prototype.show=function(t){},t.prototype.startLoadModuleRES=function(t,e){void 0===e&&(e=void 0),this.connect=HttpConnect.instance,loadx.instance.loadGroup(t,this.loadGroupRESOver,this,e)},t.prototype.loadGroupRESOver=function(){},t.prototype.setIspop=function(t){this._ispop=t},t.prototype.getIspop=function(){return this.parentLayer?this._ispop:!1},t.prototype.sendHttpMessage=function(t){this.connect.sendPostRequest(t.url,t.params,t.responseType,t.requestHeader)},t.prototype.addHttpListener=function(t,e,n){this.connect.addHttpListener(t,e,n)},t.prototype.removeHttpListener=function(t,e,n){this.connect.removeHttpListener(t,e,n)},t.prototype.hasHttptListener=function(t){return this.connect.hasHttptListener(t)},t.prototype.sendPostRequestAsJson=function(t,e){void 0===e&&(e=void 0),this.connect.sendPostRequestAsJson(t,e)},t.prototype.addHttpListenerJson=function(t,e,n){this.connect.addHttpListenerJson(t,e,n)},t.prototype.removeHttpListenerJson=function(t,e,n){this.connect.removeHttpListenerJson(t,e,n)},t.prototype.hasSocketListenerJson=function(t){return this.connect.hasHttpListenerJson(t)},t.prototype.dispose=function(){},t}();__reflect(BaseModule.prototype,"BaseModule");var ShopModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="shopPanel",e.tabIndex=0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this.tabIndex=e,this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),LayerManager.instance.windowLayer.showMask(),this.parentLayer.addChild(this.moduleWindow),this.moduleWindow.setTab(this.tabIndex)):(this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow),LayerManager.instance.windowLayer.hideMask())},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new shopPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(ShopModule.prototype,"ShopModule");var ButtonX=function(t){function e(){var e=t.call(this)||this;return e.skinMap=[],e._hasAllSkin=!1,e}return __extends(e,t),e.prototype.setSkin=function(t,e,n,i,o,r){void 0===t&&(t=void 0),void 0===e&&(e=void 0),void 0===n&&(n=""),void 0===i&&(i=void 0),void 0===o&&(o=void 0),void 0===r&&(r=void 0),this.skinMap[ButtonXState.STATE_NORMAL]=t,void 0==i?(this.skinMap[ButtonXState.STATE_OVER]=t,this._hasAllSkin=!1):(this.skinMap[ButtonXState.STATE_OVER]=i,this._hasAllSkin=!0),void 0==o?(this.skinMap[ButtonXState.STATE_DOWN]=t,this._hasAllSkin=!1):(this.skinMap[ButtonXState.STATE_DOWN]=o,this._hasAllSkin=!0),void 0==r?(this.skinMap[ButtonXState.STATE_DISABLE]=t,this._hasAllSkin=!1):(this.skinMap[ButtonXState.STATE_DISABLE]=r,this._hasAllSkin=!0),this._image=new egret.Bitmap,this._imgLabel=new egret.Bitmap,this._label=new egret.TextField,this._label.width=100,this._label.height=28,this._label.size=24,this.addChild(this._image),this.addChild(this._imgLabel),this.addChild(this._label),this.state=ButtonXState.STATE_NORMAL,this.imgLabel=e,this.text=n,this.touchEnabled=!0,this._image.touchEnabled=!0,this._image.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchEventX,this),this._image.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEventX,this)},e.prototype.setSkinUseImage=function(t,e,n,i,o,r){void 0===t&&(t=void 0),void 0===e&&(e=void 0),void 0===n&&(n=""),void 0===i&&(i=void 0),void 0===o&&(o=void 0),void 0===r&&(r=void 0);var s=t.source;this.x=t.x,this.y=t.y,t&&t.parent&&t.parent.removeChild(t);var a;e&&(a=e.source,e.parent&&e.parent.removeChild(e));var h;i&&(h=i.source,h.parent&&h.parent.removeChild(h));var c;o&&(c=o.source,c.parent&&c.parent.removeChild(c));var l;r&&(l=r.source,l.parent&&l.parent.removeChild(l)),this.initSkin(s,a,n,h,c,l)},e.prototype.initSkin=function(t,e,n,i,o,r){void 0===t&&(t=void 0),void 0===e&&(e=void 0),void 0===n&&(n=""),void 0===i&&(i=void 0),void 0===o&&(o=void 0),void 0===r&&(r=void 0),this.skinMap[ButtonXState.STATE_NORMAL]=t,void 0==i?(this.skinMap[ButtonXState.STATE_OVER]=t,this._hasAllSkin=!1):(this.skinMap[ButtonXState.STATE_OVER]=i,this._hasAllSkin=!0),void 0==o?(this.skinMap[ButtonXState.STATE_DOWN]=t,this._hasAllSkin=!1):(this.skinMap[ButtonXState.STATE_DOWN]=o,this._hasAllSkin=!0),void 0==r?(this.skinMap[ButtonXState.STATE_DISABLE]=t,this._hasAllSkin=!1):(this.skinMap[ButtonXState.STATE_DISABLE]=r,this._hasAllSkin=!0),this._image=new egret.Bitmap,this._imgLabel=new egret.Bitmap,this._label=new egret.TextField,this._label.width=100,this._label.height=28,this._label.size=24,this.addChild(this._image),this.addChild(this._imgLabel),this.addChild(this._label),this.state=ButtonXState.STATE_NORMAL,this.imgLabel=e,this.text=n,this.touchEnabled=!0,this._image.touchEnabled=!0,this._image.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchEventX,this),this._image.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEventX,this)},e.prototype.onTouchEventX=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.state=ButtonXState.STATE_DOWN;break;case egret.TouchEvent.TOUCH_END:this.state=ButtonXState.STATE_NORMAL;break;case egret.TouchEvent.TOUCH_MOVE:}},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imgLabel",{set:function(t){var e=RES.getRes(t);this._imgLabel.texture=e,this._imgLabel.x=(this._image.width>>1)-(this._imgLabel.width>>1),this._imgLabel.y=(this._image.height>>1)-(this._imgLabel.height>>1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{set:function(t){this._label.text=t,this._label.x=(this._image.width>>1)-(this._label.width>>1),this._label.y=(this._image.height>>1)-(this._label.height>>1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enable",{set:function(t){1==t?this.state=ButtonXState.STATE_NORMAL:0==t&&(this.state=ButtonXState.STATE_DISABLE),this._image.touchEnabled=t,this.touchEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{set:function(t){if(void 0!=this._image&&void 0!=this.skinMap[t]){var e=RES.getRes(this.skinMap[t]);this._image.texture=e,0==this._hasAllSkin&&t!=ButtonXState.STATE_NORMAL?(this._image.scaleX=.9,this._image.scaleY=.9,this._imgLabel.scaleX=.9,this._imgLabel.scaleY=.9,this._label.scaleX=.95,this._label.scaleY=.95):(this._image.scaleX=1,this._image.scaleY=1,this._imgLabel.scaleX=1,this._imgLabel.scaleY=1,this._label.scaleX=1,this._label.scaleY=1)}},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._image.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchEventX,this),this._image.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEventX,this)},e}(egret.DisplayObjectContainer);__reflect(ButtonX.prototype,"ButtonX");var ButtonXState=function(){function t(){}return t}();ButtonXState.STATE_NORMAL="normal",ButtonXState.STATE_OVER="over",ButtonXState.STATE_DOWN="down",ButtonXState.STATE_DISABLE="disable",__reflect(ButtonXState.prototype,"ButtonXState");var PlayBtn=function(t){function e(e,n,i,o){var r=t.call(this)||this;r.btn=null,r.txt=null,r.enableTextTureName="",r.disableTextTureName="",r.downTextTureName="",r.btnTouchCallBack=null,r.btnName="",r.m_btnId=0,r.enableTextTureName=e,r.disableTextTureName=i,r.downTextTureName=o,r.btnName=n,r.btn=new btns.BtnBmTf(e,""),r.addChild(r.btn);var s=RES.getRes(n),a=new egret.Bitmap(s);return a.x=r.btn.x+r.btn.width+5,a.y=r.btn.y+8,r.addChild(a),r.txt=a,r}return __extends(e,t),Object.defineProperty(e.prototype,"btnId",{get:function(){return this.m_btnId},set:function(t){this.m_btnId=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return null!=this.btn&&null!=this.txt?this.btn.width+this.txt.width:145},enumerable:!0,configurable:!0}),e.prototype.setBtnState=function(t,e,n){this.thisobj=n,this.btn.touchEnabled=t?!0:!1,this.btnTouchCallBack=e,1==this.btn.touchEnabled?(this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this)):(this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this))},e.prototype.onTouch=function(){this.btnTouchCallBack&&this.btnTouchCallBack.apply(this.thisobj,[this.btnName])},e.prototype.onBegin=function(){},e.prototype.onEnd=function(){},e}(egret.DisplayObjectContainer);__reflect(PlayBtn.prototype,"PlayBtn");var ConfigData=function(){function t(){}return Object.defineProperty(t,"strMachinehasMan",{get:function(){return this._strMachinehasMan},set:function(t){this._strMachinehasMan=t},enumerable:!0,configurable:!0}),t}();ConfigData.wStage=1136,ConfigData.hStage=640,ConfigData.oddsOfWinning=[[1,2,4,6,8,12,80,250,400,600],[1,2,3,5,7,10,60,200,300,500],[1,2,3,4,6,8,40,150,200,400]],ConfigData.doubleRates=[1,2,5,15,50,500],ConfigData._strMachinehasMan="该机器已有玩家在玩，请选择其他机器，谢谢",ConfigData.strDonotBet="还没押分,请先押分再开始",ConfigData.rulesAlert="不同意游戏规则，不能进房间.",ConfigData.signupSuccessAlert="注册成功.",ConfigData.signupFaildAlert="注册失败.",ConfigData.loginFaildAlert="登陆失败.",ConfigData.noRoom="未开房间.",ConfigData.noMachine="房间无机器.",ConfigData.liujistr="请输入留机密码",ConfigData.playeridlist=[1e4,10001,10002,10003,10004,10005,10006,10007],ConfigData.rules="1:本游戏仅供会员休闲娱乐，严禁赌博之用途;2:在游戏过程中，如遇到爆币、涨币之现象属于机台故障，只能按游戏起始币数计算;3:非正常使用游戏机者，本服有权停止该会员之游戏权利;4:本游戏不该打满彩金奖励机制和其他奖励机制;5:本游戏纯属娱乐，如遇掉线，自身网络原因掉币，游戏过程中的少币、差币本服一概不负责;6:每月的1号，16号早8：00--9：00为系统维护时间，请注意上线时间;最终解释权归本游戏商所有.",__reflect(ConfigData.prototype,"ConfigData");var PlayerData=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.initData=function(){},t.goldNumStr=function(){return"金币："+t.playerGold.toString()},t}();PlayerData._instance=null,PlayerData.playerID=123456,PlayerData.playerName="玩家名123",PlayerData.playerCredit=1e3,PlayerData.playerGold=1e3,__reflect(PlayerData.prototype,"PlayerData");var PokerEvents=function(){function t(){}return t}();PokerEvents.breakGame="pokerBreakGame",PokerEvents.updatePokers="pokerUpdataPokers",PokerEvents.updateGameView="pokerUpdataGameView",PokerEvents.doublere="doublere",PokerEvents.defen="pokerdefen",PokerEvents.startGame="pokerStartGame",PokerEvents.openGameView="pokerOpenGameView",PokerEvents.openBetView="pokerOpenBetView",PokerEvents.openDoubleView="pokeyOpenDoubleView",PokerEvents.intoPokerRoom="pokerIntoPokerRoom",PokerEvents.openSignupView="pokerOpenSignupView",PokerEvents.setDoubleViewBtnState="pokerSetDoubleViewBtnState",__reflect(PokerEvents.prototype,"PokerEvents");var GameModel=function(){function t(){EventManager.instance.removeEventListener(GlobalEvents.ReceiveServerMsg,this.OnReceive,this),EventManager.instance.addEventListener(GlobalEvents.ReceiveServerMsg,this.OnReceive,this)}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.OnReceive=function(t){if(t&&t.data)switch(t.data.cid){case EventConst.ON_ADDPOINTS_RESP_SC:}},t}();GameModel._instance=null,__reflect(GameModel.prototype,"GameModel");var BeginModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="beginPanel",e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.setProgress=function(t,e){this.moduleWindow.setProgress(t,e)},e.prototype.show=function(e){this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),LayerManager.instance.windowLayer.showMask(),this.parentLayer.addChild(this.moduleWindow),this.moduleWindow.start()):(this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow),LayerManager.instance.windowLayer.hideMask())},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new BeginPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){this.connect.addHttpListener("command2",this.onrecieve,this),HttpConnect.instance.sendPostRequest("http://localhost/post_test.php","p1=postP1command&p2=postP2")},e.prototype.onrecieve=function(t){console.log("begin 收到数据， rest 数据 -------》 ",t.type,t.data)},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(BeginModule.prototype,"BeginModule");var BeginPanel=function(t){function e(){var e=t.call(this)||this;return e.barWidth=770,e.skinName=skins.beginPanelSkin,e}return __extends(e,t),e.prototype.start=function(){this.width=Common.stageH,this.height=Common.stageW,console.log("这里修改了界面大小，拉伸铺满画布--->"),this.btn_qq.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchQQ,this),this.btn_weixin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchWeiXin,this),this.init()},e.prototype.init=function(){this.loadingPanel||(this.loadingPanel=new loadPanel),this.loadingPanel.y=-700,this.addChild(this.loadingPanel),this.inPanel||(this.inPanel=new informationPanel),this.inPanel.y=-700,this.addChild(this.inPanel),this.inPanel.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtn,this)},e.prototype.onTouchQQ=function(){this.inPanel.y=0},e.prototype.onTouchWeiXin=function(){this.inPanel.y=0},e.prototype.onTouchBtn=function(){this.loadingPanel.y=0,this.inPanel.y=-700,this.btn_qq.visible=!1,this.btn_weixin.visible=!1,GameScene.instance.startGame()},e.prototype.timerFunc=function(){if(this.loadingPanel.gro.width<770)this.loadingPanel.gro.width+=10,this.loadingPanel.present.text=Math.floor(100*this.loadingPanel.gro.width/780)+"%";else{window.doResize("mainBg"),this.loadingPanel.present.text="100%";var t=new ChangeSceneEvent(ChangeSceneEvent.CHANGE_SCENE_EVENT);t.eventType=MainPanel.GAME_NAME,t.obj=this,ViewManager.getInstance().dispatchEvent(t)}},e.prototype.setProgress=function(t,e){var n=t/e,i=n*this.barWidth;this.loadingPanel.gro.width=i,this.loadingPanel.present.text=Math.floor(100*n)+"%"},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this),this.loadingPanel&&this.loadingPanel.dispose(),this.inPanel&&this.inPanel.dispose()},e}(eui.Component);BeginPanel.GAME_NAME="gameBegin",__reflect(BeginPanel.prototype,"BeginPanel");var informationPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.informationPanelSkin,e}return __extends(e,t),e.prototype.dispose=function(){},e}(eui.Component);__reflect(informationPanel.prototype,"informationPanel");var loadPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.loadingPanelSkin,e}return __extends(e,t),e.prototype.dispose=function(){},e}(eui.Component);__reflect(loadPanel.prototype,"loadPanel");var carBuyPanel=function(t){function e(){var e=t.call(this)||this;e.btnCar=[],e.btnBorder=[],e.skinName=skins.carBuySkin,e.btnCar.push(e.btnCar1),e.btnCar.push(e.btnCar2),e.btnCar.push(e.btnCar3),e.btnCar.push(e.btnCar4),e.btnCar.push(e.btnCar5),e.btnBorder.push(e.btnBorder1),e.btnBorder.push(e.btnBorder2),e.btnBorder.push(e.btnBorder3),e.btnBorder.push(e.btnBorder4),e.btnBorder.push(e.btnBorder5);for(var n=0;n<e.btnBorder.length;n++)e.btnBorder[n].visible=!1;e.btnBorder[0].visible=!0;for(var n=0;n<e.btnBorder.length;n++)e.btnCar[n].touchEnabled=!0,e.btnCar[n].addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchTab,e),e.btnCar[n].texture=RES.getRes("carIco"+(n+1)+"_png");return e.btn_game.touchEnabled=!0,btns.initScaleBtn1(e.btn_game),e.btn_game.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtn,e),e}return __extends(e,t),e.prototype.onTouchBtn=function(t){this.y=-700,btns.inScalePanel(CarRentalPanel.carResultPanel,0,0)},e.prototype.onTouchTab=function(t){for(var e=this.btnCar.indexOf(t.target),n=0;n<this.btnBorder.length;n++)this.btnBorder[n].visible=!1;this.btnBorder[e].visible=!0},e}(eui.Component);__reflect(carBuyPanel.prototype,"carBuyPanel");var carItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.carItemSkin,e.btn_watch.touchEnabled=!0,btns.initScaleBtn1(e.btn_watch),e.btn_watch.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchItem,e),e}return __extends(e,t),e.prototype.setDate=function(t){this.carId=t.trade-1,RES.getResAsync(t.getImgUrl(),this.onLoadOverIcon,this),this.carTime.text=t.carTime,this.carPrice.text=t.getPrice(),RES.getResAsync(t.getResult(),this.onLoadOverResult,this)},e.prototype.onLoadOverIcon=function(t,e){this.carIco.texture=t},e.prototype.onLoadOverResult=function(t,e){this.carResult.texture=t},e.prototype.onTouchItem=function(){btns.inScalePanel(CarRentalPanel.carContPanel,0,0),CarRentalPanel.carContPanel.setDate(CarRentalPanel.Cvo[this.carId])},e.prototype.removeFromStage=function(){this.btn_watch.touchEnabled=!1,this.btn_watch.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.btn_watch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchItem,this)},e}(eui.Component);__reflect(carItem.prototype,"carItem");var carItemCont=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.carItemContSkin,e.btn.touchEnabled=!0,btns.initScaleBtn1(e.btn),e.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchClose,e),e}return __extends(e,t),e.prototype.setDate=function(t){this.carIco.texture=RES.getRes(t.getImgUrl()),this.carNum.text=t.carNum,this.carPrice.text=t.carPrice.toString()},e.prototype.onTouchClose=function(){this.y=-700},e}(eui.Component);__reflect(carItemCont.prototype,"carItemCont");var CarModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="shopPanel",e.tabIndex=0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){this.tabIndex=e,this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),this.parentLayer.addChild(this.moduleWindow)):this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow)},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new carPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(CarModule.prototype,"CarModule");var carPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.carPanelSkin,e.btn_close.touchEnabled=!0,btns.initScaleBtn1(e.btn_close),e.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtnClose,e),e.btn_buy.touchEnabled=!0,btns.initScaleBtn1(e.btn_buy),e.btn_buy.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtnBuy,e),e}return __extends(e,t),e.prototype.onTouchBtnClose=function(){this.y=-700},e.prototype.onTouchBtnBuy=function(){0==Data.GAMEID?btns.inScalePanel(CarRentalPanel.mobilePanel,0,0):btns.inScalePanel(CarRentalPanel.carBuyPanel,0,0)},e.prototype.addItem=function(t,e,n){t.x=e,t.y=n,this.content.addChild(t)},e.prototype.dispose=function(){},e}(eui.Component);__reflect(carPanel.prototype,"carPanel");var CarRentalModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="carRentalPanel",e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(MainModule.instance.dispose(),GameScene.instance.changeBg("carBg"),this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),this.moduleWindow.addEvents(),this.parentLayer.addChild(this.moduleWindow)):this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow)},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new CarRentalPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(CarRentalModule.prototype,"CarRentalModule");var CarRentalPanel=function(t){function e(){var e=t.call(this)||this;return e.itm=[],e.skinName=skins.carRentalPanelSkin,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.init(),btns.initScaleBtn1(this.btn_back),btns.initScaleBtn1(this.btnBuild)},e.prototype.addEvents=function(){this.btn_back.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtnBack,this),this.btnBuild.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBuild,this)},e.prototype.removeEvents=function(){this.btn_back&&(this.btn_back.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtnBack,this),this.btnBuild.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBuild,this))},e.prototype.init=function(){this.btn_back.touchEnabled=!0,this.btnBuild.touchEnabled=!0,this.carPanel=new carPanel,this.carPanel.y=-700,this.addChild(this.carPanel),e.carContPanel=new carItemCont,e.carContPanel.y=-700,this.addChild(e.carContPanel),e.carBuyPanel=new carBuyPanel,e.carBuyPanel.y=-700,this.addChild(e.carBuyPanel),e.carResultPanel=new carResult,e.carResultPanel.y=-700,this.addChild(e.carResultPanel),e.mobilePanel=new MobilePanel,e.mobilePanel.y=-700,this.addChild(e.mobilePanel);for(var t=0;t<Data.Ctrade.length;t++){var n=new carItemVo;n.trade=Data.Ctrade[t],n.type=Data.Ctype[t],n.carTime=Data.CTime[t],n.carPrice=Data.CPrice[t],n.carResult=Data.CResult[t],n.carNum=Data.CNum[t],e.Cvo.push(n);var i=new carItem,o=0,r=95*t;i.setDate(n),this.carPanel.addItem(i,o,r)}},e.prototype.onTouchBtnBack=function(){GameScene.instance.startGame()},e.prototype.onTouchBuild=function(){btns.inScalePanel(this.carPanel,0,0)},e.prototype.dispose=function(){this.removeEvents(),this.parent&&this.parent.removeChild(this)},e}(eui.Component);CarRentalPanel.GAME_NAME="gameCarPental",CarRentalPanel.Cvo=[],__reflect(CarRentalPanel.prototype,"CarRentalPanel");var carResult=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.carBuyResultSkin,e.btn.touchEnabled=!0,e.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtn,e),e}return __extends(e,t),e.prototype.onTouchBtn=function(t){this.y=-700},e}(eui.Component);__reflect(carResult.prototype,"carResult");var carItemVo=function(){function t(){}return t.prototype.getResult=function(){var t="carResult"+this.carResult+"_png";return t},t.prototype.getText=function(){var t="";return t="购买车辆1辆"},t.prototype.getImgUrl=function(){return"carLongIco"+this.type+"_png"},t.prototype.getPrice=function(){var t="";return t=StringUtil.tranNumberToString(this.carPrice)},t}();__reflect(carItemVo.prototype,"carItemVo");var applyPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.applyPanelSkin,e.btn_close.touchEnabled=!0,e.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtnClose,e),e.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchAPanelBtn,e),e}return __extends(e,t),e.prototype.onTouchAPanelBtn=function(t){Data.COMMERID=1,CommerceModule.instance.show(1)},e.prototype.onTouchBtnClose=function(t){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(applyPanel.prototype,"applyPanel");var commerceItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.commerceItemSkin,e}return __extends(e,t),e.prototype.setDate=function(t){this.trade=t.trade-1,this.vipIco.texture=RES.getRes(t.getVipIcoUrl()),this.peopleName.text=t.peopleName,this.peopleNum.text=t.getPeopleNum(),this.bonusPersent.text=t.getBonusPersent(),this.tradeNum.text=t.getTradeNum(),this.bonus.text=t.getBonus(),this.time.text=t.time,"在线"==t.time?this.time.textColor=11137323:this.time.textColor=16772794},e}(eui.Component);__reflect(commerceItem.prototype,"commerceItem");var CommerceModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="commercePanel",e.tabIndex=0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this.tabIndex=e,this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),LayerManager.instance.windowLayer.showMask(),0==this.tabIndex?0==Data.COMMERID?(this.applyPanel||(this.applyPanel=new applyPanel),this.clearModule(),this.parentLayer.addChild(this.applyPanel)):(this.commercePanel.addAllItem(),this.clearModule(),this.parentLayer.addChild(this.commercePanel)):1==this.tabIndex&&this.openResultPanel()):(this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow),LayerManager.instance.windowLayer.hideMask())},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new commercePanel,this.commercePanel=this.moduleWindow,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e.prototype.openResultPanel=function(){this.resultPanel||(this.resultPanel=new comResultPanel),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),this.clearModule(),this.parentLayer.addChild(this.resultPanel)},e.prototype.clearModule=function(){this.applyPanel&&this.applyPanel.parent&&this.applyPanel.parent.removeChild(this.applyPanel),this.commercePanel&&this.commercePanel.parent&&this.commercePanel.parent.removeChild(this.commercePanel),this.resultPanel&&this.resultPanel.parent&&this.resultPanel.parent.removeChild(this.resultPanel)},e}(BaseModule);__reflect(CommerceModule.prototype,"CommerceModule");var commercePanel=function(t){function e(){var e=t.call(this)||this;return e.tab=[],e.vtab=[],e.tabNum=0,e.skinName=skins.commercePanelSkin,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.btn_close.touchEnabled=!0,this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtn,this),this.tab.push(this.tab1),this.tab.push(this.tab2);for(var e=0;2>e;e++)this.tab[e].touchEnabled=!0,btns.initScaleBtn1(this.tab[e]),this.tab[e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTab,this);this.vtab.push(this.vtab1),this.vtab.push(this.vtab2);for(var e=0;2>e;e++)this.vtab[e].touchEnabled=!0,btns.initScaleBtn1(this.vtab[e]),this.vtab[e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchVTab,this);this.addAllItem()},e.prototype.addItem=function(t,e,n){t.x=e,t.y=n,this.content.addChild(t)},e.prototype.addAllItem=function(){this.content.removeChildren();for(var t=0;t<MainPanel.Comvo.length;t++){var e=new commerceItem,n=0,i=66*t;this.addItem(e,n,i),e.setDate(MainPanel.Comvo[t])}},e.prototype.onTouchTab=function(t){var e=this.tab.indexOf(t.target);this.setTab(e)},e.prototype.onTouchVTab=function(t){var e=this.vtab.indexOf(t.target);this.setVTab(e)},e.prototype.setTab=function(t){this.tab[0].texture=RES.getRes("tab_zonglan_"+(0==t?1:0)+"_png"),this.tab[1].texture=RES.getRes("tab_gaikuo_"+(1==t?1:0)+"_png"),t!=this.tabNum&&(this.tabNum=t,this.swapChildren(this.tab1,this.tab2)),this.addAllItem()},e.prototype.setVTab=function(t){this.vtab[0].texture=RES.getRes("tab_coutDiamond_"+(0==t?1:0)+"_png"),this.vtab[1].texture=RES.getRes("tab_coutGold_"+(1==t?1:0)+"_png"),this.ico1.texture=RES.getRes(0==t?"zuanshi_png":"gold_png"),this.ico2.texture=RES.getRes(0==t?"zuanshi_png":"gold_png")},e.prototype.onTouchBtn=function(t){this.y=-700},e.prototype.dispose=function(){},e}(eui.Component);__reflect(commercePanel.prototype,"commercePanel");var comResultPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.resultPanelSkin,e.btn.touchEnabled=!0,e.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtn,e),e}return __extends(e,t),e.prototype.onTouchBtn=function(t){this.y=-700},e}(eui.Component);__reflect(comResultPanel.prototype,"comResultPanel");var commerceItemVo=function(){function t(){}return t.prototype.getVipIcoUrl=function(){return"Vip"+this.vipIcoNum+"_png"},t.prototype.getPeopleNum=function(){return this.peopleNum+""},t.prototype.getBonusPersent=function(){return this.bonusPersent+"%"},t.prototype.getTradeNum=function(){return this.tradeNum+"万"},t.prototype.getBonus=function(){var t=Math.floor(this.bonusPersent*this.tradeNum*100),e="";return e=StringUtil.tranNumberToString(t)},t}();__reflect(commerceItemVo.prototype,"commerceItemVo");var ViewManager=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return __extends(e,t),e.prototype.init=function(){this.beginPanel=new BeginPanel,this.addChild(this.beginPanel),this.beginPanel.start(),this.addEventListener(ChangeSceneEvent.CHANGE_SCENE_EVENT,this.onChangeScene,this)},e.prototype.start=function(){this.addEventListener(ChangeSceneEvent.CHANGE_SCENE_EVENT,this.onChangeScene,this)},e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.prototype.onChangeScene=function(t){switch(t.obj.end(),this.removeChildren(),t.eventType){case BeginPanel.GAME_NAME:this.beginPanel.start(),this.addChild(this.beginPanel);break;case MainPanel.GAME_NAME:void 0==this.mainPanel&&(this.mainPanel=new MainPanel),this.mainPanel.start(),this.addChild(this.mainPanel);break;case CarRentalPanel.GAME_NAME:void 0==this.carRentalPanel&&(this.carRentalPanel=new CarRentalPanel),this.carRentalPanel.addEvents(),this.addChild(this.carRentalPanel)}},e}(egret.Sprite);__reflect(ViewManager.prototype,"ViewManager");var Common=function(){function t(){}return t}();Common.stageW=1136,Common.stageH=640,__reflect(Common.prototype,"Common");var Data=function(){function t(){}return t}();Data.GAMEID=0,Data.COMMERID=0,Data.Dtrade=[1,2,3,4,5,6,7,8,9,10],Data.Dtype=[1,2,1,2,3,1,2,1,2,3],Data.Dunit=["1kg","10t","1kg","5t","1kg","1kg","10t","5kg","1t","10kg"],Data.Dnum=[2,7,5,1,8,6,10,2,3,1],Data.Dcurrency=[1,0,1,0,1,0,1,0,0,1],Data.Dprice=[10,10,10,5,5,5,10,10,10,8],Data.Dprice2=[12,8,7,13,15,8,3,8,7,18],Data.Dprice3=[4,-6,8,-8,4,-4,6,-4,-4,8],Data.Ttrade=[1,2,3,4,5],Data.Ttype=[3,1,2,1,1],Data.TtradeId=[392019001,392019002,392019003,392019004,392019005],Data.TtradeTime=["2017-3-10 09:12","2017-3-10 14:44","2017-3-11 00:08","2017-3-11 13:35","2017-3-13 16:58"],Data.Tnum=[7,5,1,8,6],Data.Tcurrency=[1,0,1,0,1],Data.Tmargin=[4,-6,8,-8,4],Data.TbuyPrice=[13,15,8,3,8],Data.TsalePrice=[10,10,5,5,8],Data.TpayPrice=[13,15,8,3,8],Data.Ttip=[13,15,8,3,8],Data.TDtrade=[1,2,3,4,5,6,7],Data.TDtype=[2,1,1,3,2,2,1],Data.TDtradeId=[392019001,392019002,392019003,392019004,392019005,392019006,382019007],Data.TDtradeTime=["2017-3-10 09:12","2017-3-10 14:44","2017-3-11 00:08","2017-3-11 13:35","2017-3-13 16:58","2017-3-13 16:35","2017-3-14 00:58"],Data.TDprice=[313110,-121210,-45210,12205,85415,54121,-25263],Data.Ctrade=[1,2,3,4,5,6,7,8,9,10,11,12],Data.Ctype=[1,3,4,2,1,5,2,4,2,1,5,2],Data.CNum=["金融城AAA210a","金融城AAA211a","金融城AAA212a","金融城AAA213a","金融城AAA214a","金融城AAA215a","金融城AAA216a","金融城AAA217a","金融城AAA218a","金融城AAA219a","金融城AAA220a","金融城AAA221a","金融城AAA222a","金融城AAA223a"],Data.CTime=["2017-3-10 09:12","2017-3-10 14:44","2017-3-11 00:08","2017-3-11 13:35","2017-3-13 16:58","2017-3-13 16:35","2017-3-14 00:58","2017-3-14 16:35","2017-3-15 00:58","2017-3-15 16:35","2017-3-15 20:58","2017-3-15 22:58"],Data.CPrice=[313110,121210,45210,12205,85415,54121,25263,121210,45210,12205,85415,54121],Data.CResult=[0,1,2,2,1,0,0,1,2,2,1,0],Data.Comtrade=[1,2,3,4,5,6,7,8,9],Data.ComvipIcoNum=[2,2,2,1,1,1,1,1,1],Data.CompeopleName=["脱离黄钻用户","酷酷猫","柒槿年","人狗殊途","城堡下的诡洞","淺笑嫣然","浮生物语","入戏太深","红尘多变"],Data.CompeopleNum=[100,100,97,80,41,38,31,32,12],Data.CombonusPersent=[8,8,6,5,5,5,4,4,4],Data.ComtradeNum=[998,874,533,497,201,192,188,180,102],Data.Comtime=["在线","在线","在线","5分钟前","8分钟前","12分钟前","18分钟前","22分钟前","34分钟前"],Data.ShopTrade=[1,2,3,4,5,6,7,8,9,10,11,12],Data.ShopPrice=[6,30,68,128,328,648,6,30,68,128,328,648],Data.EmailId=[1,2,3,4,5],Data.EmailTitle=["租车行购车竞拍成功！","租车行购车竞拍成功！","租车行购车竞拍成功！","租车行购车竞拍成功！","租车行购车竞拍成功！"],Data.EmailTime=["2017-3-10 09:12","2017-3-10 14:44","2017-3-11 00:08","2017-3-11 13:35","2017-3-13 16:58"],Data.EmailCont=["邮件详细内容1","邮件详细内容2","邮件详细内容3","邮件详细内容4","邮件详细内容5"],Data.EmailRead=[0,0,1,1,1],Data.EmailAward=[0,0,0,0,0],Data.EmailAwardNum=[1e3,2e3,3e3,4e3,5e3],Data.EmailAwardType=[1,2,1,2,1],__reflect(Data.prototype,"Data");
var DepotConfig=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t}();__reflect(DepotConfig.prototype,"DepotConfig");var DepotDetailPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.depotItemContSkin,e.btnClose.touchEnabled=!0,btns.initScaleBtn1(e.btnClose),e.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtnClose,e),e.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchNext,e),e}return __extends(e,t),e.prototype.onTouchNext=function(){DepotModule.instance.show(1)},e.prototype.setDate=function(t){this.tradeName.text=t.getTradeName(),this.unit.text=t.unit,this.text.text=t.getText(),this.price.text=t.getPrice(),this.gold.texture=RES.getRes(t.getImgUrl()),this.ico.texture=RES.getRes("ico_"+t.type+"_png"),this.icoResult.texture=RES.getRes(t.getResultUrl()),this.price0.text=t.getResult(),this.price1.text=t.price.toString(),this.price2.text=t.price2.toString(),this.price3.text=t.price3.toString(),this.price4.text=t.getPrice4()},e.prototype.onTouchBtnClose=function(){this.y=-700},e.prototype.dispose=function(){this.btnClose&&(this.btnClose.touchEnabled=!1,this.btnClose.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtnClose,this)),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(DepotDetailPanel.prototype,"DepotDetailPanel");var depotItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.depotItemSkin,e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchItem,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.removeFromStage,e),e}return __extends(e,t),e.prototype.setDate=function(t){this.trade=t.trade-1,this.tradeName.text=t.getTradeName(),this.unit.text=t.unit,this.text.text=t.getText(),this.price.text=t.getPrice(),this.gold.texture=RES.getRes(t.getImgUrl()),this.ico.texture=RES.getRes("ico_"+t.type+"_png")},e.prototype.onTouchItem=function(){DepotConfig.instance.vo=MainPanel.Dvo[this.trade],DepotModule.instance.show(2)},e.prototype.removeFromStage=function(){this.touchEnabled=!1,this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchItem,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.removeFromStage,this))},e}(eui.Component);__reflect(depotItem.prototype,"depotItem");var DepotModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="depotPanel",e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this._index=e,this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),LayerManager.instance.windowLayer.showMask(),0==this._index?(this.moduleWindow.addEvents(),this.parentLayer.addChild(this.moduleWindow),this.moduleWindow.setTab(0)):1==this._index?this.openProFitablePanel():2==this._index&&this.openDepotDetailPanel(DepotConfig.instance.vo)):(this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow),LayerManager.instance.windowLayer.hideMask())},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new depotPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e.prototype.openProFitablePanel=function(){this.proPanel||(this.proPanel=new profitablePanel),this.parentLayer.addChild(this.proPanel),this.proPanel.setType(Math.ceil(10*Math.random())%3),this.proPanel.initMovie.play(0)},e.prototype.openDepotDetailPanel=function(t){t&&(this.depotDetailPanel||(this.depotDetailPanel=new DepotDetailPanel),this.depotDetailPanel.setDate(t),this.parentLayer.addChild(this.depotDetailPanel))},e.prototype.clearModulePanel=function(){this.moduleWindow&&this.moduleWindow.dispose(),this.depotDetailPanel&&this.depotDetailPanel.dispose(),this.proPanel&&this.proPanel.dispose()},e}(BaseModule);__reflect(DepotModule.prototype,"DepotModule");var depotPanel=function(t){function e(){var e=t.call(this)||this;return e.tab=[],e.skinName=skins.depotPanelSkin,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.tab.push(this.tab1),this.tab.push(this.tab2),this.tab.push(this.tab3),this.tab.push(this.tab4);for(var e=0;4>e;e++)this.tab[e].touchEnabled=!0,btns.initScaleBtn1(this.tab[e]),this.tab[e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTab,this)},e.prototype.test=function(){for(var t=0;t<Data.Dtrade.length;t++){var e=new depotItemVo;e.trade=Data.Dtrade[t],e.type=Data.Dtype[t],e.unit=Data.Dunit[t],e.num=Data.Dnum[t],e.currency=Data.Dcurrency[t],e.price=Data.Dprice[t],e.price2=Data.Dprice2[t],e.price3=Data.Dprice3[t],MainPanel.Dvo.push(e);var n=new depotItem,i=t%3*310,o=116*Math.floor(t/3);n.setDate(e),this.addItem(n,i,o)}},e.prototype.addEvents=function(){this.removeEvents(),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.removeEvents=function(){this.btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.onClose=function(){this.dispose()},e.prototype.addItem=function(t,e,n){t.x=e,t.y=n,this.content.addChild(t)},e.prototype.setTab=function(t){for(var e=0;4>e;e++)this.tab[e].texture=RES.getRes("tab_"+e+"_0_png");this.tab[t].texture=RES.getRes("tab_"+t+"_1_png"),this.content.removeChildren();for(var n=0,e=0;e<MainPanel.Dvo.length;e++){var i=MainPanel.Dvo[e],o=new depotItem,r=n%3*310,s=116*Math.floor(n/3);o.setDate(i),(i.type==t||0==t)&&(this.addItem(o,r,s),n++)}this.test()},e.prototype.onTouchTab=function(t){var e=this.tab.indexOf(t.target);this.setTab(e)},e.prototype.dispose=function(){this.removeEvents(),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(depotPanel.prototype,"depotPanel");var profitablePanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.profitablePanelSkin,e.btn.touchEnabled=!0,btns.initScaleBtn1(e.btn),e.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtn,e),e}return __extends(e,t),e.prototype.onTouchBtn=function(t){this.y=-700},e.prototype.setType=function(t){0==t?(this.star.visible=!1,this.text0.texture=RES.getRes("touzishibai_png"),this.text0.visible=!0,this.text1.visible=!1,this.halo0.visible=!0,this.halo1.visible=!1,this.goldIco.visible=!1,this.textBg.texture=RES.getRes("shibaiBotton_png"),this.smallStar.texture=RES.getRes("smallStar1_png"),this.contText.text="损失购货成本",this.priceText.textColor=16722988):1==t?(this.star.visible=!0,this.text0.visible=!1,this.text1.visible=!0,this.halo0.visible=!1,this.halo1.visible=!0,this.goldIco.visible=!0,this.textBg.texture=RES.getRes("huoliBotton_png"),this.smallStar.texture=RES.getRes("smallStar_png"),this.contText.text="连本带利收益",this.priceText.textColor=16773120):(this.star.visible=!1,this.text0.texture=RES.getRes("xiushi_png"),this.text0.visible=!0,this.text1.visible=!1,this.halo0.visible=!0,this.halo1.visible=!1,this.goldIco.visible=!1,this.textBg.texture=RES.getRes("shibaiBotton_png"),this.smallStar.texture=RES.getRes("smallStar1_png"),this.contText.text="获得购货成本",this.priceText.textColor=16773120)},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(profitablePanel.prototype,"profitablePanel");var depotItemVo=function(){function t(){}return t.prototype.getTradeName=function(){var t="";switch(this.type){case 1:t="银矿石";break;case 2:t="原 油";break;case 3:t="铜矿石"}return t},t.prototype.getText=function(){var t="";return t=1==this.currency?"买涨 "+this.num+"箱子":"买跌 "+this.num+"箱子"},t.prototype.getPrice=function(){var t=this.num*this.price+"";return t},t.prototype.getImgUrl=function(){return 1==this.currency?"gold_png":"zuanshi_png"},t.prototype.getResultUrl=function(){var t=this.price2-this.price;return t=t>=0?1:0,t==this.currency?"depotIco_1_png":"depotIco_0_png"},t.prototype.getResult=function(){var t=this.price2-this.price;return t>=0?"+"+t.toString()+".00":t.toString()+".00"},t.prototype.getPrice4=function(){var t=this.price3*this.num;return 0>t&&(t*=-1),t.toString()},t}();__reflect(depotItemVo.prototype,"depotItemVo");var EmailConfig=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t}();__reflect(EmailConfig.prototype,"EmailConfig");var EmailDetailPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.emailContSkin,e.btnClose.touchEnabled=!0,btns.initScaleBtn1(e.btnClose),e.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtnClose,e),e}return __extends(e,t),e.prototype.setDate=function(t){this.title.text=t.ETitle,this.cont.text=t.ECont,this.price.text=t.EAwardNum.toString()},e.prototype.onTouchBtnClose=function(){this.parent&&this.parent.removeChild(this)},e.prototype.dispose=function(){this.btnClose.touchEnabled=!1,this.btnClose.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchBtnClose,this)},e}(eui.Component);__reflect(EmailDetailPanel.prototype,"EmailDetailPanel");var emailItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.emailItemSkin,e.btn_watch.touchEnabled=!0,btns.initScaleBtn1(e.btn_watch),e.btn_watch.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchItem,e),e}return __extends(e,t),e.prototype.setDate=function(t){this.trade=t.EId-1,this.bg.texture=RES.getRes("emailItemBg_"+t.ERead+"_png"),this.title.text=t.ETitle,this.time.text=t.ETime},e.prototype.onTouchItem=function(){EmailConfig.instance.vo=MainPanel.Evo[this.trade],EmailModule.instance.show(1)},e.prototype.removeFromStage=function(){this.btn_watch.touchEnabled=!1,this.btn_watch.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.btn_watch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchItem,this)},e}(eui.Component);__reflect(emailItem.prototype,"emailItem");var EmailModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="emailPanel",e.tabIndex=0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this.tabIndex=e,this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),LayerManager.instance.windowLayer.showMask(),0==this.tabIndex?(this.parentLayer.addChild(this.moduleWindow),this.moduleWindow.addEvents(),this.moduleWindow.setTab()):1==this.tabIndex&&this.openEmailDetailPanel()):(this.dispose(),this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow),LayerManager.instance.windowLayer.hideMask())},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new emailPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e.prototype.openEmailDetailPanel=function(){this.detailPanel=new EmailDetailPanel,this.parentLayer.addChild(this.detailPanel)},e}(BaseModule);__reflect(EmailModule.prototype,"EmailModule");var emailPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.emailPanelSkin,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.btnClose||(this.btnClose=new ButtonX,this.btnClose.setSkinUseImage(this.btn_close)),this.addChild(this.btnClose)},e.prototype.addEvents=function(){this.removeEvents(),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchEmailClose,this)},e.prototype.removeEvents=function(){this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchEmailClose,this)},e.prototype.addItem=function(t,e,n){t.x=e,t.y=n,this.content.addChild(t)},e.prototype.setTab=function(){for(var t=0;t<MainPanel.Evo.length;t++){var e=new emailItem,n=0,i=98*t;this.addItem(e,n,i),e.setDate(MainPanel.Evo[t])}},e.prototype.onTouchEmailClose=function(){this.dispose()},e.prototype.dispose=function(){this.removeEvents(),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(emailPanel.prototype,"emailPanel");var EmailVo=function(){function t(){}return t}();__reflect(EmailVo.prototype,"EmailVo");var ChangeSceneEvent=function(t){function e(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i)||this}return __extends(e,t),e}(egret.Event);ChangeSceneEvent.CHANGE_SCENE_EVENT="changesceneevent",__reflect(ChangeSceneEvent.prototype,"ChangeSceneEvent");var MainModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="mainPanel",e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME,this.onResProgress)},e.prototype.onResProgress=function(t){BeginModule.instance.setProgress(t[0],t[1])},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(BeginModule.instance.dispose(),CarRentalModule.instance.dispose(),GameScene.instance.changeBg("mainBg"),this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),this.parentLayer.addChild(this.moduleWindow),this.moduleWindow.start()):this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow)},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new MainPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(MainModule.prototype,"MainModule");var MainPanel=function(t){function e(){var e=t.call(this)||this;return e.itm=[],e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.skinName=skins.mainGamePanelSkin,e.init(),e}return __extends(e,t),e.prototype.onAdd=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAdd,this)},e.prototype.start=function(){this.width=Common.stageH,this.height=Common.stageW,console.log("这里修改了界面大小，拉伸铺满画布--->"),this.end(),this.btn_1.touchEnabled=!0,this.btn_2.touchEnabled=!0,this.btn_3.touchEnabled=!0,this.btn_4.touchEnabled=!0,this.btn_5.touchEnabled=!0,this.btnGoldTrade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onGold,this),this.btnDiamonTrade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDiamon,this),this.lv.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTap,this),this.onGold(),this.mainLayer.visible=!0},e.prototype.log=function(t){console.log(t)},e.prototype.onTap=function(t){var e=t.target;switch(e){case this.btn_1:CommerceModule.instance.show();break;case this.btn_2:EmailModule.instance.show();break;case this.btn_3:CarRentalModule.instance.show();break;case this.btn_4:TradeLogModule.instance.show();break;case this.btn_5:DepotModule.instance.show();break;case this.btnStartTrade:TradeModule.instance.show();break;case this.btnShop:ShopModule.instance.show(0);break;case this.btnGoldTrade:console.log("btnGoldTrade");break;case this.btnDiamonTrade:console.log("btnDiamonTrade");break;case this.lv:RoleInfoModule.instance.show();break;case this.head:RoleInfoModule.instance.show()}},e.prototype.init=function(){for(var t=0;t<Data.Ttrade.length;t++){var n=new tradeItemVo;n.trade=Data.Ttrade[t],n.type=Data.Ttype[t],n.tradeId=Data.TtradeId[t],n.tradeTime=Data.TtradeTime[t],n.num=Data.Tnum[t],n.currency=Data.Tcurrency[t],n.margin=Data.Tmargin[t],n.buyPrice=Data.TbuyPrice[t],n.salePrice=Data.TsalePrice[t],n.payPrice=Data.TpayPrice[t],n.tip=Data.Ttip[t],e.Tvo.push(n)}for(var t=0;t<Data.TDtrade.length;t++){var n=new diamondItemVo;n.trade=Data.TDtrade[t],n.type=Data.TDtype[t],n.tradeId=Data.TDtradeId[t],n.tradeTime=Data.TDtradeTime[t],n.price=Data.TDprice[t],e.TDvo.push(n)}for(var t=0;t<Data.ShopTrade.length;t++){var n=new storeItemVo;n.trade=Data.ShopTrade[t],n.price=Data.ShopPrice[t],e.Storevo.push(n)}for(var t=0;t<Data.Comtrade.length;t++){var n=new commerceItemVo;n.trade=Data.Comtrade[t],n.vipIcoNum=Data.ComvipIcoNum[t],n.peopleName=Data.CompeopleName[t],n.peopleNum=Data.CompeopleNum[t],n.bonusPersent=Data.CombonusPersent[t],n.tradeNum=Data.ComtradeNum[t],n.time=Data.Comtime[t],e.Comvo.push(n)}for(var t=0;t<Data.EmailId.length;t++){var n=new EmailVo;n.EId=Data.EmailId[t],n.ETitle=Data.EmailTitle[t],n.ETime=Data.EmailTime[t],n.ECont=Data.EmailCont[t],n.ERead=Data.EmailRead[t],n.EAward=Data.EmailAward[t],n.EAwardNum=Data.EmailAwardNum[t],n.EAwardType=Data.EmailAwardType[t],e.Evo.push(n)}},e.prototype.onGold=function(){this.btnDiamonTrade.selected=!1,this.btnGoldTrade.selected=!0},e.prototype.onDiamon=function(){this.btnGoldTrade.selected=!1,this.btnDiamonTrade.selected=!0},e.prototype.end=function(){},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);MainPanel.GAME_NAME="gameMain",MainPanel.Dvo=[],MainPanel.Tvo=[],MainPanel.TDvo=[],MainPanel.Storevo=[],MainPanel.Comvo=[],MainPanel.Evo=[],__reflect(MainPanel.prototype,"MainPanel");var SymbolItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.SymbolItemSkin,e}return __extends(e,t),e}(eui.Component);__reflect(SymbolItem.prototype,"SymbolItem");var MobilePanel=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.MobilePanelSkin,e.btn_bundling.touchEnabled=!0,btns.initScaleBtn1(e.btn_bundling),e.btn_bundling.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtn,e),e.btn_close.touchEnabled=!0,btns.initScaleBtn1(e.btn_close),e.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtnClose,e),e}return __extends(e,t),e.prototype.onTouchBtnClose=function(t){this.y=-700},e.prototype.onTouchBtn=function(t){Data.GAMEID=1,this.y=-700},e}(eui.Component);__reflect(MobilePanel.prototype,"MobilePanel");var BindPhone=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.bindPhone,e.bindphone.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onbind,e),e}return __extends(e,t),e.prototype.onbind=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(BindPhone.prototype,"BindPhone");var RoleInfo=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.roleInfo,e.close.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onclose,e),e.bindphone.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onbindphone,e),e.music.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onmusic,e),e.sound.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onsound,e),e}return __extends(e,t),e.prototype.onmusic=function(){"up"==this.music.currentState?this.music.currentState="disabled":this.music.currentState="up"},e.prototype.onsound=function(){"up"==this.sound.currentState?this.sound.currentState="disabled":this.sound.currentState="up"},e.prototype.onclose=function(){this.parent&&this.parent.removeChild(this)},e.prototype.onbindphone=function(){this.bindPanel||(this.bindPanel=new BindPhone),LayerManager.instance.windowLayer.addChild(this.bindPanel),this.bindPanel.x=(LayerManager.instance.stageWidth>>1)-(this.bindPanel.width>>1),this.bindPanel.y=(LayerManager.instance.stageHeight>>1)-(this.bindPanel.height>>1),this.dispose()},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(RoleInfo.prototype,"RoleInfo");var RoleInfoModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="roleInfo",e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),this.parentLayer.addChild(this.moduleWindow)):this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow)},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new RoleInfo,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),t.prototype.dispose.call(this),this.moduleWindow&&this.moduleWindow.dispose()},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(RoleInfoModule.prototype,"RoleInfoModule");var BitmapTextAutoAlign=function(t){function e(){var e=t.call(this)||this;return e.m_fixedCoordinateX=0,e.m_textAlign=egret.HorizontalAlign.LEFT,e.m_bitmapText=null,e.m_txtNum=0,e.m_bitmapText=new egret.BitmapText,e.addChild(e.m_bitmapText),e}return __extends(e,t),Object.defineProperty(e.prototype,"bitmapText",{get:function(){return this.m_bitmapText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedCoordinateX",{set:function(t){this.m_fixedCoordinateX=t},enumerable:!0,configurable:!0}),e.prototype.setTextAlign=function(t){this.m_textAlign=t,this.m_bitmapText.textAlign=t},e.prototype.updateTextTure=function(t,e){void 0===e&&(e=void 0),this.bitmapText.font=RES.getRes(t),void 0==e?this.text=this.m_bitmapText.text:this.text=e.toString()},Object.defineProperty(e.prototype,"text",{get:function(){return this.m_bitmapText.text},set:function(t){this.m_txtNum=parseInt(t),this.m_bitmapText.text=t,this.updateAlign()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"realTextNumberValue",{get:function(){return parseInt(this.m_bitmapText.text)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textNumberValue",{get:function(){return this.m_txtNum},enumerable:!0,configurable:!0}),e.prototype.updateAlign=function(){egret.HorizontalAlign.LEFT==this.m_textAlign?this.m_bitmapText.x=this.m_fixedCoordinateX:this.x=this.m_fixedCoordinateX-this.m_bitmapText.textWidth,this.addChild(this.m_bitmapText)},e}(egret.DisplayObjectContainer);__reflect(BitmapTextAutoAlign.prototype,"BitmapTextAutoAlign");var shopPanel=function(t){function e(){var e=t.call(this)||this;return e.tab=[],e.num=0,e.skinName=skins.shopPanelSkin,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),e.ResultPanel=new storeResult,this.addChild(e.ResultPanel),e.ResultPanel.y=-700,this.tab.push(this.tab0),this.tab.push(this.tab1);for(var n=0;2>n;n++)this.tab[n].touchEnabled=!0,btns.initScaleBtn1(this.tab[n]),this.tab[n].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTab,this),this.tab[n].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTab,this);this.btnClose||(this.btnClose=new ButtonX,this.btnClose.setSkinUseImage(this.btn_close)),this.addChild(this.btnClose),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchShopClose,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchShopClose,this)},e.prototype.onTouchShopClose=function(){this.parent&&this.parent.removeChild(this)},e.prototype.addItem=function(t,e,n){t.x=e,t.y=n,this.content.addChild(t)},e.prototype.setTab=function(t){this.num=t,this.tab[0].texture=RES.getRes("tabDiamond_0_png"),this.tab[1].texture=RES.getRes("tabGlod_0_png"),0==t?this.tab[0].texture=RES.getRes("tabDiamond_1_png"):this.tab[1].texture=RES.getRes("tabGlod_1_png"),this.content.removeChildren();for(var e=0;6>e;e++){var n=new storeItem,i=253*(e%3),o=225*Math.floor(e/3);this.addItem(n,i,o),n.setDate(MainPanel.Storevo[e+6*t])}},e.prototype.onTouchTab=function(t){var n=this.tab.indexOf(t.target);this.setTab(n),e.buyType=n},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);shopPanel.buyType=0,__reflect(shopPanel.prototype,"shopPanel");var storeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.shopItemSkin,e.touchEnabled=!0,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchItem,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.removeFromStage,e),e}return __extends(e,t),e.prototype.setDate=function(t){this.trade=t.trade,this.bg.texture=RES.getRes(t.getBgImgUrl()),this.shopIco.texture=RES.getRes(t.getShopIco()),this.typeIco.texture=RES.getRes(t.getTypeIco()),this.price.text=t.getPrice(),this.storeName.text=t.getName(),this.trade<=6?(this.storeName.strokeColor=2183024,this.price.strokeColor=2183024):(this.storeName.strokeColor=6503191,this.price.strokeColor=6503191)},e.prototype.onTouchItem=function(){shopPanel.ResultPanel.setData(this.trade),btns.inScalePanel(shopPanel.ResultPanel,0,0)},e.prototype.removeFromStage=function(){this.touchEnabled=!1,this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&(this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchItem,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.removeFromStage,this))},e}(eui.Component);__reflect(storeItem.prototype,"storeItem");var storeResult=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.shopResultSkin,e.btn.touchEnabled=!0,e.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtn,e),e.btn_close.touchEnabled=!0,e.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchBtnClose,e),e}return __extends(e,t),e.prototype.setData=function(t){0==shopPanel.buyType?(this.cont1.text="是否花费"+Data.ShopPrice[t-1]+"元购买",this.buyTypeIco.texture=RES.getRes("zuanshi_png"),this.cont2.text=10*Data.ShopPrice[t-1]+"？"):(this.cont1.text="是否花费"+10*Data.ShopPrice[t-7]+"钻石购买",this.buyTypeIco.texture=RES.getRes("gold_png"),this.cont2.text=10*Data.ShopPrice[t-7]+"？")},e.prototype.onTouchBtn=function(t){this.y=-700},e.prototype.onTouchBtnClose=function(t){this.y=-700},e}(eui.Component);__reflect(storeResult.prototype,"storeResult");var storeItemVo=function(){function t(){}return t.prototype.getBgImgUrl=function(){return this.trade<=6?"diamondBg_png":"goldBg_png"},t.prototype.getShopIco=function(){var t=this.trade%6;return 0==t&&(t=6),this.trade<=6?"ico_diamond"+t+"_png":"ico_gold"+t+"_png"},t.prototype.getTypeIco=function(){return this.trade<=6?"renmingbi_png":"zuanshi_png"},t.prototype.getPrice=function(){return this.trade<=6?this.price.toString():(10*this.price).toString()},t.prototype.getName=function(){return this.trade<=6?"钻石"+this.price+"0":"金币"+this.price+"0"},t}();__reflect(storeItemVo.prototype,"storeItemVo");var Trade=function(t){function e(){var e=t.call(this)||this;return e.itemList=[],e.seleteSpreadType=1,e.seleteType=1,e.seleteSym=1,e.skinName=skins.tradeSkin,e}return __extends(e,t),e.prototype.addEvents=function(){this.removeEvents(),this.btn_buy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuy,this),this.btn_sell.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onsell,this),this.btn_jia.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onjia,this),this.btn_jian.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onjian,this),this.btn_type1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtntype1,this),this.btn_type2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtntype2,this),this.btn_type3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtntype3,this),this.type1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ontype1,this),this.type2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ontype2,this),this.type3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ontype3,this),this.sym1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym1,this),this.sym2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym2,this),this.sym3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym3,this),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclose,this),this.btn_depot.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ondepot,this),this.btn_tradelog.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ontradelog,this)},e.prototype.show=function(){this.addEvents(),this.type1.txt_cost.text="1000",this.type2.txt_cost.text="2000",this.type3.txt_cost.text="2000",this.type1.txt_type.text="1000g/箱",this.type2.txt_type.text="2000g/箱",this.type3.txt_type.text="3000g/箱",this.sym1.txt_symbolprice.text="100",this.sym2.txt_symbolprice.text="200",this.sym3.txt_symbolprice.text="300";var t=1;t=Number(this.txt_num.text);var e=this.getOneCost(),n=e*t;this.txt_gold.text=n.toString(),this.onbtntype1(),this.ontype1(),this.onsym1()},e.prototype.onbuy=function(){var t=new depotItemVo;t.type=this.seleteSym,t.unit=this.seleteSpreadType.toString(),t.num=Number(this.txt_num.text),t.currency=1,t.price=this.getSymCurPrice(),t.price2=this.getSymCurPrice(),t.price3=this.getTypeSpread(),DepotConfig.instance.vo=t,DepotModule.instance.show(2)},e.prototype.onsell=function(){var t=new depotItemVo;t.type=this.seleteSym,t.unit=this.seleteSpreadType.toString(),t.num=Number(this.txt_num.text),t.currency=2,t.price=this.getSymCurPrice(),t.price2=this.getSymCurPrice(),t.price3=this.getTypeSpread(),DepotConfig.instance.vo=t,DepotModule.instance.show(2)},e.prototype.onjia=function(){var t=Number(this.txt_num.text);t++,this.txt_num.text=t.toString();var e=this.getOneCost(),n=e*t;this.txt_gold.text=n.toString()},e.prototype.onjian=function(){var t=Number(this.txt_num.text);t--,1>=t&&(t=1),this.txt_num.text=t.toString();var e=this.getOneCost(),n=e*t;this.txt_gold.text=n.toString()},e.prototype.getOneCost=function(){return 1==this.seleteSpreadType?Number(this.type1.txt_cost.text):2==this.seleteSpreadType?Number(this.type2.txt_cost.text):3==this.seleteSpreadType?Number(this.type3.txt_cost.text):1},e.prototype.onbtntype1=function(){this.img_flag1.visible=!0,this.img_flag2.visible=!1,this.img_flag3.visible=!1,this.seleteSpreadType=1},e.prototype.onbtntype2=function(){this.img_flag1.visible=!1,this.img_flag2.visible=!0,this.img_flag3.visible=!1,this.seleteSpreadType=2},e.prototype.onbtntype3=function(){this.img_flag1.visible=!1,this.img_flag2.visible=!1,this.img_flag3.visible=!0,this.seleteSpreadType=3},e.prototype.getTypeSpread=function(){return 1==this.seleteSpreadType?4:2==this.seleteSpreadType?6:3==this.seleteSpreadType?10:4},e.prototype.ontype1=function(){this.type1.seleted.visible=!0,this.type2.seleted.visible=!1,this.type3.seleted.visible=!1,this.seleteType=1},e.prototype.ontype2=function(){this.type1.seleted.visible=!1,this.type2.seleted.visible=!0,this.type3.seleted.visible=!1,this.seleteType=2},e.prototype.ontype3=function(){this.type1.seleted.visible=!1,this.type2.seleted.visible=!1,this.type3.seleted.visible=!0,this.seleteType=3},e.prototype.onsym1=function(){this.sym1.img_seleted.visible=!0,this.sym2.img_seleted.visible=!1,this.sym3.img_seleted.visible=!1,this.seleteSym=1},e.prototype.onsym2=function(){this.sym1.img_seleted.visible=!1,this.sym2.img_seleted.visible=!0,this.sym3.img_seleted.visible=!1,this.seleteSym=2},e.prototype.onsym3=function(){this.sym1.img_seleted.visible=!1,this.sym2.img_seleted.visible=!1,this.sym3.img_seleted.visible=!0,this.seleteSym=3},e.prototype.getSymCurPrice=function(){return 1==this.seleteSym?Number(this.sym1.txt_symbolprice.text):(2==this.seleteSym?Number(this.sym2.txt_symbolprice.text):3==this.seleteSym&&Number(this.sym3.txt_symbolprice.text),Number(this.sym1.txt_symbolprice.text))},e.prototype.ontradelog=function(){TradeLogModule.instance.show()},e.prototype.ondepot=function(){DepotModule.instance.show()},e.prototype.onclose=function(){MainModule.instance.show(),this.dispose()
},e.prototype.removeEvents=function(){this.btn_buy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuy,this),this.btn_sell.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onsell,this),this.btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclose,this),this.btn_jia.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onjia,this),this.btn_jian.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onjian,this),this.btn_type1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtntype1,this),this.btn_type2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtntype2,this),this.btn_type3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onbtntype3,this),this.type1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ontype1,this),this.type2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ontype2,this),this.type3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ontype3,this),this.sym1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym1,this),this.sym2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym2,this),this.sym3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym3,this),this.btn_depot.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym2,this),this.btn_tradelog.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onsym3,this)},e.prototype.dispose=function(){this.removeEvents(),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(Trade.prototype,"Trade");var TradeModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="trade",e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(MainModule.instance.dispose(),this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),this.moduleWindow.show(),this.parentLayer.addChild(this.moduleWindow)):this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow)},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new Trade,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(TradeModule.prototype,"TradeModule");var TradeSymbolItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.tradeSymbolItemSkin,e.width=296,e.height=102,e}return __extends(e,t),e.prototype.data=function(t){this.icon=RES.getRes("ico_1_png"),this.txt_symbolname.text="银矿石",this.txt_symbolprice.text="381,099",this.txt_symbolname.textColor=ColorUtil.red,this.txt_symbolprice.textColor=ColorUtil.red,this.img_flagdown.visible=!1},e}(eui.Component);__reflect(TradeSymbolItem.prototype,"TradeSymbolItem");var TradeSymTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.tradeSymTypeItemSkin,e}return __extends(e,t),e.prototype.data=function(t){},e}(eui.Component);__reflect(TradeSymTypeItem.prototype,"TradeSymTypeItem");var diamondItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.diamondLogItemSkin,e}return __extends(e,t),e.prototype.setDate=function(t){this.trade=t.trade-1,this.tradeName.text=t.getTradeName(),this.tradeId.text=t.tradeId.toString(),this.tradeTime.text=t.tradeTime,this.text.text=t.getText(),t.price<0?(this.price.textColor=10485504,this.price.strokeColor=2108673,this.price.text=t.getPrice()):(this.price.textColor=16589575,this.price.strokeColor=4392713,this.price.text=t.getPrice()),this.priceIco.texture=RES.getRes(t.getImgUrl())},e}(eui.Component);__reflect(diamondItem.prototype,"diamondItem");var tradeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.tradeLogItemSkin,e}return __extends(e,t),e.prototype.setDate=function(t){this.trade=t.trade-1,this.tradeName.text=t.getTradeName(),this.tradeId.text=t.tradeId.toString(),this.tradeTime.text=t.tradeTime,this.margin.text=t.getMargin(),this.text.text=t.getText(),this.buyPrice.text="买入价："+(t.buyPrice*t.num).toString()+".000",this.salePrice.text="卖出价："+(t.salePrice*t.num).toString()+".000",this.payPrice.text="订货款："+(t.payPrice*t.num).toString()+".000",this.tip.text="服务费："+(t.tip*t.num).toString()+".000",t.getPrice()<0?(this.price.textColor=10682113,this.price.strokeColor=1715459,this.price.text=t.getPrice()+".000"):(this.price.textColor=16720131,this.price.strokeColor=4522755,this.price.text=t.getPrice()+".000"),this.gold.texture=RES.getRes(t.getImgUrl()),this.ico.texture=RES.getRes("ico_"+t.type+"_png")},e}(eui.Component);__reflect(tradeItem.prototype,"tradeItem");var TradeLogModule=function(t){function e(){var e=t.call(this)||this;return e.GROUP_NAME="tradePanel",e.tabIndex=0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(e){void 0===e&&(e=0),this.tabIndex=e,this.moduleWindow?this.setIspop(!0):t.prototype.startLoadModuleRES.call(this,this.GROUP_NAME)},e.prototype.setIspop=function(e){t.prototype.setIspop.call(this,e),e?(this.addEvents(),this.parentLayer||(this.parentLayer=LayerManager.instance.windowLayer),LayerManager.instance.windowLayer.showMask(),this.parentLayer.addChild(this.moduleWindow),this.moduleWindow.setTab(0),this.moduleWindow.addEvents()):(this.moduleWindow&&this.moduleWindow.parent&&this.moduleWindow.parent.removeChild(this.moduleWindow),LayerManager.instance.windowLayer.hideMask())},e.prototype.loadGroupRESOver=function(){this.moduleWindow=new tradeLogPanel,this.setIspop(!0)},e.prototype.dispose=function(){this.removeEvents(),this.moduleWindow&&this.moduleWindow.dispose(),t.prototype.dispose.call(this)},e.prototype.addEvents=function(){},e.prototype.removeEvents=function(){},e}(BaseModule);__reflect(TradeLogModule.prototype,"TradeLogModule");var tradeLogPanel=function(t){function e(){var e=t.call(this)||this;return e.tab=[],e.skinName=skins.tradePanelSkin,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.btnClose||(this.btnClose=new ButtonX,this.btnClose.setSkinUseImage(this.btn_close)),this.addChild(this.btnClose),this.tab.push(this.tab1),this.tab.push(this.tab2);for(var e=0;2>e;e++)this.tab[e].touchEnabled=!0,btns.initScaleBtn1(this.tab[e]),this.tab[e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTab,this)},e.prototype.addEvents=function(){this.removeEvents(),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.removeEvents=function(){this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.onClose=function(){this.dispose()},e.prototype.addTradeItem=function(t,e,n){t.x=e,t.y=n,this.content.addChild(t)},e.prototype.addDiamondItem=function(t,e,n){t.x=e,t.y=n,this.content.addChild(t)},e.prototype.setTab=function(t){for(var e=0;2>e;e++)this.tab[e].texture=RES.getRes("tab_"+(e+4)+"_0_png");if(this.tab[t].texture=RES.getRes("tab_"+(t+4)+"_1_png"),this.content.removeChildren(),0==t)for(var e=0;e<MainPanel.Tvo.length;e++){var n=MainPanel.Tvo[e],i=new tradeItem,o=0,r=98*e;i.setDate(n),this.addTradeItem(i,o,r)}else for(var e=0;e<MainPanel.TDvo.length;e++){var n=MainPanel.TDvo[e],i=new diamondItem,o=0,r=98*e;i.setDate(n),this.addDiamondItem(i,o,r)}},e.prototype.onTouchTab=function(t){var e=this.tab.indexOf(t.target);this.setTab(e)},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this)},e}(eui.Component);tradeLogPanel.Tvo=[],__reflect(tradeLogPanel.prototype,"tradeLogPanel");var diamondItemVo=function(){function t(){}return t.prototype.getTradeName=function(){var t="";switch(this.type){case 1:t="租车行";break;case 2:t="充值";break;case 3:t="商会"}return t},t.prototype.getText=function(){var t="";switch(this.type){case 1:t="购买车辆1辆";break;case 2:t="充值钻石";break;case 3:t="商会分红"}return t},t.prototype.getImgUrl=function(){return this.price>=0?"inIco_png":"outIco_png"},t.prototype.getPrice=function(){var t="";return t=StringUtil.tranNumberToString(this.price)},t}();__reflect(diamondItemVo.prototype,"diamondItemVo");var tradeItemVo=function(){function t(){}return t.prototype.getPrice=function(){var t=this.salePrice-this.buyPrice;return t},t.prototype.getTradeName=function(){var t="";switch(this.type){case 1:t="银矿石";break;case 2:t="原 油";break;case 3:t="铜矿石"}return t},t.prototype.getText=function(){var t="";return t=1==this.margin?"买涨 "+this.num+"箱":"买跌 "+this.num+"箱"},t.prototype.getImgUrl=function(){return 1==this.currency?"gold_png":"zuanshi_png"},t.prototype.getMargin=function(){var t=0;return t=this.margin<0?-this.margin:this.margin,"("+t+"价差)"},t}();__reflect(tradeItemVo.prototype,"tradeItemVo");var RulesTextField=function(t){function e(){var e=t.call(this)||this;return e.textFieldList=[],e}return __extends(e,t),e.prototype.clean=function(){},e.prototype.text=function(t,e,n,i,o,r,s,a,h,c,l){void 0===i&&(i="；"),void 0===o&&(o="："),void 0===r&&(r=ColorUtil.white),void 0===s&&(s=!1),void 0===a&&(a=egret.HorizontalAlign.LEFT),void 0===h&&(h=!0),void 0===c&&(c=1),void 0===l&&(l=!1);for(var d=t.split(i),p=7,u=0;u<d.length;u++){var _=d[u],E=_.split(o),v=void 0;this.textFieldList[u]?(v=this.textFieldList[u],v[0].text=E[0],v[1].text=E[1]):(v=[],v[0]=ObjectUtil.createTextField(E[0]+o,n,r,e,-1,0,0,this,s,a,c,h,l),v[0].width=v[0].textWidth,v[0].x=0,v[0].y=0==u?0:this.textFieldList[u-1][1].y+this.textFieldList[u-1][1].height+p,1==E.length&&(v[0].text=E[0],v[0].x=e-v[0].width,v[0].y=0==u?0:this.textFieldList[u-1][1].y+this.textFieldList[u-1][1].height+20+p),2==E.length&&(v[1]=ObjectUtil.createTextField(E[1],n,r,e,-1,0,0,this,s,a,c,h,l),v[1].x=0==u?v[0].width:this.textFieldList[u-1][1].x,v[1].y=0==u?0:this.textFieldList[u-1][1].y+this.textFieldList[u-1][1].height+p,this.textFieldList[u]=v))}},e}(egret.DisplayObjectContainer);__reflect(RulesTextField.prototype,"RulesTextField");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?i(o):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var BasePanel=function(t){function e(){var e=t.call(this)||this;return e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,Loading.instance.show(),e}return __extends(e,t),e.prototype.loadGroup=function(t,e){if(this._groupName=t,!e){var n=new eui.Theme(e,this.stage);n.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)}RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup(t)},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.loadeOver()},e.prototype.onResourceLoadComplete=function(t){t.groupName==this._groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.loadeOver())},e.prototype.loadeOver=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(Loading.instance.hide(),this.onloadeOver())},e.prototype.onloadeOver=function(){Loading.instance.hide(),this.show()},e.prototype.setCenter=function(){this.x=(LayerManager.instance.stageWidth>>1)-(this.width>>1),this.y=(LayerManager.instance.stageHeight>>1)-(this.height>>1)},e.prototype.show=function(){},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&Loading.instance.setProgress(t.itemsLoaded,t.itemsTotal)},e}(eui.Component);__reflect(BasePanel.prototype,"BasePanel");var BaseView=function(t){function e(){var e=t.call(this)||this;return e.reslen=0,e.beinit=!1,e.resCount=0,Loading.instance.show(),e}return __extends(e,t),e.prototype.loadRes=function(t){this.reslen=t.length,this.resCount=t.length;for(var e="",n=0;n<this.reslen;n++)e=t[n],RES.getResAsync(e,this.onOver,this)},e.prototype.onOver=function(t,e){this.resCount--,0==this.resCount&&this.init()},e.prototype.init=function(){Loading.instance.hide(),this.beinit=!0},e.prototype.setCenter=function(){this.x=(ConfigData.wStage>>1)-(this.width>>1),this.y=(ConfigData.hStage>>1)-(this.height>>1)},e.prototype.show=function(){},e}(egret.DisplayObjectContainer);__reflect(BaseView.prototype,"BaseView");var GroupLoader=function(){function t(){}return t}();__reflect(GroupLoader.prototype,"GroupLoader");var ModuleLoader=function(t){function e(){var e=t.call(this)||this;return e.callbackList=new eui.ArrayCollection,e.contextList=new eui.ArrayCollection,e.o=[],e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.loadRes=function(t,e,n,i,o,r,s){this.o.push({key:e,value:[t,e,n,i,o]}),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig(t,"resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);for(var e=this.o.length,n=0;e>n;n++){var i=this.o[n];i.key==t.target.name}var o=new eui.Theme("resource/default.thm.json",this.stage);o.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.loadeOver()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.loadeOver())},e.prototype.loadeOver=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(Loading.instance.hide(),this.onloadeOver())},e.prototype.onloadeOver=function(){},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&Loading.instance.setProgress(t.itemsLoaded,t.itemsTotal)},e}(eui.UILayer);__reflect(ModuleLoader.prototype,"ModuleLoader");var loadx=function(){function t(){this._loadList=[]}return Object.defineProperty(t,"instance",{get:function(){return void 0==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.loadGroup=function(t,e,n,i){void 0===i&&(i=void 0),this._loadList[t]={gname:t,callback:e,context:n,progress:i},RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup(t)},t.prototype.onResourceLoadComplete=function(t){var e=(this._loadList.length,this._loadList[t.groupName]),n=e.callback,i=e.context;n.call(i),delete this._loadList[t.groupName],this._loadList.length<=0&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),Loading.instance.hide())},t.prototype.loadeOver=function(t,e){Loading.instance.hide()},t.prototype.onItemLoadError=function(t){console.log("Url:"+t.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(t){console.log("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},t.prototype.onResourceProgress=function(t){Loading.instance.setProgress(t.itemsLoaded,t.itemsTotal),console.log("Loading..."+t.itemsLoaded+"/"+t.itemsTotal);var e,n=this._loadList[t.groupName];n&&(e=n.progress,e&&e.call(n.context,[t.itemsLoaded,t.itemsTotal]))},t}();loadx._instance=void 0,__reflect(loadx.prototype,"loadx");var TimeFrame=function(){function t(){this.timer=void 0,this.callbackList=[]}return Object.defineProperty(t,"instance",{get:function(){return void 0==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.createTimer=function(t,e){void 0===t&&(t=1e3),void 0===e&&(e=0),void 0==this.timer&&(this.timer=new egret.Timer(t,e),this.callbackList.length=0),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)},t.prototype.addOne=function(t,e,n){for(var i=!1,o=0;o<this.callbackList.length;o++){var r=this.callbackList[o];if(r[0]==t){i=!0;break}}0==i&&(this.callbackList.push([t,e,n]),this.run())},t.prototype.removeOne=function(t){for(var e=!1,n=0;n<this.callbackList.length;n++){var i=this.callbackList[n];if(i[0]==t){e=!0;break}}},t.prototype.run=function(){this.timer&&this.timer.running||(this.createTimer(),this.timer.stop(),this.timer.start())},t.prototype.stopTimer=function(){this.timer&&this.timer.running&&this.timer.stop()},t.prototype.onTimer=function(){for(var t=0;t<this.callbackList.length;t++)this.callbackList[t][1].apply(this.callbackList[t][2]);(void 0==this.callbackList||this.callbackList.length<=0)&&this.stopTimer()},t}();TimeFrame._instance=void 0,__reflect(TimeFrame.prototype,"TimeFrame");var WindowLayer=function(t){function e(){var e=t.call(this)||this;return e._mask=new egret.Sprite,e.addChild(e._mask),e}return __extends(e,t),e.prototype.addChild=function(e){t.prototype.addChild.call(this,e),e.x=(LayerManager.instance.stageWidth>>1)-(e.width>>1),e.y=(LayerManager.instance.stageHeight>>1)-(e.height>>1)},e.prototype.setCenter=function(e){t.prototype.addChild.call(this,e),e.x=(LayerManager.instance.stageWidth>>1)-(e.width>>1),e.y=(LayerManager.instance.stageHeight>>1)-(e.height>>1)},e.prototype.showMask=function(){this._mask.visible=!0,this._mask.graphics.beginFill(0,.5),this._mask.graphics.drawRect(-50,-50,Common.stageW+100,Common.stageH+100),this._mask.graphics.endFill()},e.prototype.hideMask=function(){this._mask.visible=!1},e}(eui.Component);__reflect(WindowLayer.prototype,"WindowLayer");var WindowPositionManager=function(){function t(){LayerManager.instance.windowLayer.addEventListener(egret.Event.ADDED,this.onChangeWindowHandler,this)}return Object.defineProperty(t.prototype,"instance",{get:function(){return void 0==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.onChangeWindowHandler=function(){},t}();WindowPositionManager._instance=void 0,__reflect(WindowPositionManager.prototype,"WindowPositionManager");var EventConst;!function(t){t[t.PROTO_BEGIN=0]="PROTO_BEGIN",t[t.ON_CHANNEL_SESSION_CLOSE=1]="ON_CHANNEL_SESSION_CLOSE",t[t.ON_SYSTEM_TIME_TASK=2]="ON_SYSTEM_TIME_TASK",t[t.ON_COM_ERROR_PROTO_SC=3]="ON_COM_ERROR_PROTO_SC",t[t.ComNotifyProto=4]="ComNotifyProto",t[t.GMComRespProto=5]="GMComRespProto",t[t.ON_COM_REQ_CS=9]="ON_COM_REQ_CS",t[t.ON_COM_PROTO_RESP_CS=10]="ON_COM_PROTO_RESP_CS",t[t.ON_GM_LOGIN_REQ_CS=21]="ON_GM_LOGIN_REQ_CS",t[t.ON_GM_LOGIN_RESP_SC=22]="ON_GM_LOGIN_RESP_SC",t[t.ON_PLAYER_REG_REQ_CS=51]="ON_PLAYER_REG_REQ_CS",t[t.ON_PLAYER_REG_RESP_SC=52]="ON_PLAYER_REG_RESP_SC",t[t.ON_LOGIN_REQ_CS=53]="ON_LOGIN_REQ_CS",t[t.ON_LOGIN_RESP_SC=54]="ON_LOGIN_RESP_SC",t[t.ON_HOUSE_LIST_REQ_CS=101]="ON_HOUSE_LIST_REQ_CS",t[t.ON_HOUSE_LIST_RESP_CS=102]="ON_HOUSE_LIST_RESP_CS",t[t.ON_MACHINE_LIST_REQ_CS=103]="ON_MACHINE_LIST_REQ_CS",t[t.ON_MACHINE_LIST_RESP_CS=104]="ON_MACHINE_LIST_RESP_CS",t[t.ON_MACHINE_OWN_REQ_CS=105]="ON_MACHINE_OWN_REQ_CS",t[t.ON_MACHINE_OWN_RESP_CS=106]="ON_MACHINE_OWN_RESP_CS",t[t.ON_MACHINE_CANCEL_REQ_CS=107]="ON_MACHINE_CANCEL_REQ_CS",t[t.ON_MACHINE_CANCEL_RESP_CS=108]="ON_MACHINE_CANCEL_RESP_CS",t[t.ON_LOCK_POKE_REQ_CS=109]="ON_LOCK_POKE_REQ_CS",t[t.ON_LOCK_POKE_RESP_SC=110]="ON_LOCK_POKE_RESP_SC",t[t.ON_UNLOCK_POKE_REQ_CS=111]="ON_UNLOCK_POKE_REQ_CS",t[t.ON_UNLOCK_POKE_RESP_SC=112]="ON_UNLOCK_POKE_RESP_SC",t[t.ON_RESERVED_MACHINE_REQ_CS=113]="ON_RESERVED_MACHINE_REQ_CS",t[t.ON_RESERVED_MACHINE_RESP_SC=114]="ON_RESERVED_MACHINE_RESP_SC",t[t.ON_UNRESERVED_MACHINE_REQ_CS=115]="ON_UNRESERVED_MACHINE_REQ_CS",t[t.ON_UNRESERVED_MACHINE_RESP_SC=116]="ON_UNRESERVED_MACHINE_RESP_SC",t[t.ON_ADDPOINTS_REQ_CS=201]="ON_ADDPOINTS_REQ_CS",t[t.ON_ADDPOINTS_RESP_SC=202]="ON_ADDPOINTS_RESP_SC",t[t.ON_SUBOINTS_REQ_CS=203]="ON_SUBOINTS_REQ_CS",t[t.ON_SUBPOINTS_RESP_SC=204]="ON_SUBPOINTS_RESP_SC",t[t.ON_BEGPOINT_REQ_CS=205]="ON_BEGPOINT_REQ_CS",t[t.ON_BEGPOINT_RESP_CS=206]="ON_BEGPOINT_RESP_CS",t[t.ON_OPEN1_CARD_REQ_CS=207]="ON_OPEN1_CARD_REQ_CS",t[t.ON_OPEN1_CARD_RESP_CS=208]="ON_OPEN1_CARD_RESP_CS",t[t.ON_OPEN2_CARD_REQ_CS=209]="ON_OPEN2_CARD_REQ_CS",t[t.ON_OPEN2_CARD_RESP_CS=210]="ON_OPEN2_CARD_RESP_CS",t[t.ON_CARD_DOUBLE_RATIO_REQ_CS=211]="ON_CARD_DOUBLE_RATIO_REQ_CS",t[t.ON_CARD_DOUBLE_RATIO_RESP_SC=212]="ON_CARD_DOUBLE_RATIO_RESP_SC",t[t.ON_GAIN_POINT_REQ_CS=213]="ON_GAIN_POINT_REQ_CS",t[t.ON_GAIN_POINT_RESP_SC=214]="ON_GAIN_POINT_RESP_SC",t[t.PROTO_END=9999]="PROTO_END",t[t.RECEIVE_PROTOCOL=10001]="RECEIVE_PROTOCOL"}(EventConst||(EventConst={}));var GlobalEvents=function(){function t(){}return t}();GlobalEvents.ReceiveServerMsg="gameReceiveServerMsg",__reflect(GlobalEvents.prototype,"GlobalEvents");var GlobalData;!function(t){t.server_url="ws://203.195.217.251:7799/att",t.g_fix_width=480,t.g_fix_height=800,t.bIsInRoom=!1,t.isReleaseVerson=!1,t.fontSet=[{fontFamily:"Microsoft YaHei",bold:!0,textColor:16578792,stroke:0,strokeColor:0},{fontFamily:"Microsoft YaHei",bold:!0,textColor:5575173,stroke:0,strokeColor:0},{fontFamily:"Microsoft YaHei",bold:!0,textColor:99073,stroke:0,strokeColor:0},{fontFamily:"Microsoft YaHei",bold:!0,textColor:2711805,stroke:0,strokeColor:0},{fontFamily:"Microsoft YaHei",bold:!0,textColor:10889725,stroke:0,strokeColor:0},{fontFamily:"Microsoft YaHei",bold:!0,textColor:16750336,stroke:0,strokeColor:5575173},{fontFamily:"Microsoft YaHei",bold:!0,textColor:15665417,stroke:0,strokeColor:0},{fontFamily:"Microsoft YaHei",bold:!0,textColor:16578792,stroke:3,strokeColor:5575173},{fontFamily:"Microsoft YaHei",bold:!0,textColor:16578792,stroke:2,strokeColor:99073},{fontFamily:"Microsoft YaHei",bold:!0,textColor:16578792,stroke:2,strokeColor:2711805},{fontFamily:"Microsoft YaHei",bold:!0,textColor:16578792,stroke:2,strokeColor:10889725},{fontFamily:"Microsoft YaHei",bold:!0,textColor:16578792,stroke:2,strokeColor:16750336},{fontFamily:"Microsoft YaHei",bold:!0,textColor:16578792,stroke:2,strokeColor:15665417}]}(GlobalData||(GlobalData={}));var ShareMgr=function(){function t(){this.g_main=null,this.g_channel=null}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t}();ShareMgr.instance=null,__reflect(ShareMgr.prototype,"ShareMgr");var EventManager=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e}(egret.EventDispatcher);EventManager._instance=void 0,__reflect(EventManager.prototype,"EventManager");var LayerManager=function(){function t(){this.stageWidth=1136,this.stageHeight=640}return Object.defineProperty(t,"instance",{get:function(){return void 0==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.initLayer=function(){void 0==t.instance.sceneLayer&&(t.instance.mapLayer=new eui.Component,t.instance.sceneLayer=new eui.Component,t.instance.windowLayer=new WindowLayer,t.instance.topLayer=new eui.Component)},t}();LayerManager._instance=void 0,__reflect(LayerManager.prototype,"LayerManager");var HttpConnect=function(_super){function HttpConnect(){var t=_super.call(this)||this;return t.beInit=!1,t._messageMap=[],t}return __extends(HttpConnect,_super),Object.defineProperty(HttpConnect,"instance",{get:function(){return HttpConnect._instance||(HttpConnect._instance=new HttpConnect,HttpConnect.instance.initHttpEvent()),HttpConnect._instance},enumerable:!0,configurable:!0}),HttpConnect.prototype.initHttpEvent=function(){1!=this.beInit&&(this.beInit=!0,HttpConnect.instance.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),HttpConnect.instance.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),HttpConnect.instance.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this))},HttpConnect.prototype.sendPostRequest=function(t,e,n,i){void 0===e&&(e=void 0),void 0===n&&(n=egret.HttpResponseType.TEXT),void 0===i&&(i="application/x-www-form-urlencoded");var o=HttpConnect.instance;o.responseType=n,o.open(t,egret.HttpMethod.POST),o.setRequestHeader("Content-Type",i),void 0==e?o.send():o.send(e)},HttpConnect.prototype.onPostComplete=function(t){var e=t.currentTarget;HttpConnect.instance.dispatchEventWith("command1",!1,e.response),console.log("POST response! post data : ",e.response)},HttpConnect.prototype.onPostIOError=function(t){console.log("post error : "+t)},HttpConnect.prototype.onPostProgress=function(t){console.log("post progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},HttpConnect.prototype.addHttpListener=function(t,e,n){HttpConnect.instance.addEventListener(t,e,n)},HttpConnect.prototype.removeHttpListener=function(t,e,n){HttpConnect.instance.removeEventListener(t,e,n)},HttpConnect.prototype.hasHttptListener=function(t){return HttpConnect.instance.hasEventListener(t)},Object.defineProperty(HttpConnect.prototype,"urlLoader",{get:function(){return this.initUrlLoader(),this._urlLoader},enumerable:!0,configurable:!0}),HttpConnect.prototype.initUrlLoader=function(){this._urlLoader||(this._urlLoader=new egret.URLLoader,this._urlLoader.addEventListener(egret.Event.COMPLETE,this.onReceive,this),this._urlLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSendJsonIOError,this),this._urlLoader.addEventListener(egret.ProgressEvent.PROGRESS,this.onsendJsonProgress,this),this._urlRequest=new egret.URLRequest,this._urlRequest.method=egret.URLRequestMethod.POST)},HttpConnect.prototype.sendPostRequestAsJson=function(t,e){void 0===e&&(e=void 0),this.initUrlLoader(),this._urlLoader.dataFormat=egret.URLLoaderDataFormat.TEXT,this._urlRequest.url=t,this._urlRequest.data=new egret.URLVariables(e),this._urlLoader.load(this._urlRequest)},HttpConnect.prototype.onReceive=function(event){var loader=event.target,data=loader.data;console.log(data.toString());var js=eval("("+data.toString()+")");console.log("origin:"+js.origin);var txt=data.toString(),obj=JSON.parse(txt);console.log("origin:"+obj.origin),this._urlLoader.dispatchEventWith("command",!1,data)},HttpConnect.prototype.onSendJsonIOError=function(t){console.log("post json error : "+t)},HttpConnect.prototype.onsendJsonProgress=function(t){console.log("post json progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},HttpConnect.prototype.addHttpListenerJson=function(t,e,n){this._urlLoader.addEventListener(t,e,n)},HttpConnect.prototype.removeHttpListenerJson=function(t,e,n){this._urlLoader.removeEventListener(t,e,n)},HttpConnect.prototype.hasHttpListenerJson=function(t){return this._urlLoader.hasEventListener(t)},HttpConnect}(egret.HttpRequest);HttpConnect._instance=void 0,__reflect(HttpConnect.prototype,"HttpConnect");var Message=function(){function t(){this.responseType=egret.HttpResponseType.TEXT,this.requestHeader="application/x-www-form-urlencoded"}return t}();__reflect(Message.prototype,"Message");var MsgAction;!function(t){t[t.PROTO_BEGIN=0]="PROTO_BEGIN",t[t.ON_CHANNEL_SESSION_CLOSE=1]="ON_CHANNEL_SESSION_CLOSE",t[t.ON_COM_ERROR_PROTO_SC=2]="ON_COM_ERROR_PROTO_SC",t[t.ON_HAND_OUT_ONE_CARD_SC=3]="ON_HAND_OUT_ONE_CARD_SC",t[t.ON_COM_PROTO_RESP_CS=7]="ON_COM_PROTO_RESP_CS",t[t.ON_WEIXIN_ACCESS_TOKEN_REQ_CS=11]="ON_WEIXIN_ACCESS_TOKEN_REQ_CS",t[t.ON_WEIXIN_ACCESS_TOKEN_RESP_SC=12]="ON_WEIXIN_ACCESS_TOKEN_RESP_SC",t[t.ON_WEIXIN_USERINFO_REQ_CS=13]="ON_WEIXIN_USERINFO_REQ_CS",t[t.ON_WEIXIN_USERINFO_RESP_SC=14]="ON_WEIXIN_USERINFO_RESP_SC",t[t.ON_OPENING_HOUSEINFO_REQ_CS=101]="ON_OPENING_HOUSEINFO_REQ_CS",t[t.ON_OPENING_HOUSEINFO_RESP_SC=102]="ON_OPENING_HOUSEINFO_RESP_SC",t[t.ON_OPEN_HOUSE_REQ_CS=103]="ON_OPEN_HOUSE_REQ_CS",t[t.ON_OPEN_HOUSE_RESP_SC=104]="ON_OPEN_HOUSE_RESP_SC",t[t.ON_CLOSE_HOUSE_REQ_CS=105]="ON_CLOSE_HOUSE_REQ_CS",t[t.ON_CLOSE_HOUSE_RESP_SC=106]="ON_CLOSE_HOUSE_RESP_SC",t[t.ON_SIGN_CLOSE_HOUSE_REQ_CS=107]="ON_SIGN_CLOSE_HOUSE_REQ_CS",t[t.ON_SIGN_CLOSE_HOUSE_RESP_SC=108]="ON_SIGN_CLOSE_HOUSE_RESP_SC",t[t.ON_ANSWER_SIGN_CLOSE_HOUSE_REQ_CS=109]="ON_ANSWER_SIGN_CLOSE_HOUSE_REQ_CS",t[t.ON_ANSWER_SIGN_CLOSE_HOUSE_RESP_SC=110]="ON_ANSWER_SIGN_CLOSE_HOUSE_RESP_SC",t[t.ON_JOIN_HOUSE_REQ_CS=111]="ON_JOIN_HOUSE_REQ_CS",t[t.ON_JOIN_HOUSE_RESP_SC=112]="ON_JOIN_HOUSE_RESP_SC",t[t.ON_QUIT_HOUSE_REQ_CS=113]="ON_QUIT_HOUSE_REQ_CS",t[t.ON_QUIT_HOUSE_RESP_SC=114]="ON_QUIT_HOUSE_RESP_SC",t[t.ON_VOTE_KING_REQ_CS=151]="ON_VOTE_KING_REQ_CS",t[t.ON_VOTE_KING_RESP_SC=152]="ON_VOTE_KING_RESP_SC",t[t.ON_DELIVER_CARD_REQ_CS=153]="ON_DELIVER_CARD_REQ_CS",t[t.ON_DELIVER_CARD_RESP_SC=154]="ON_DELIVER_CARD_RESP_SC",t[t.ON_OUTPUT_CARD_REQ_CS=161]="ON_OUTPUT_CARD_REQ_CS",t[t.ON_OUTPUT_CARD_RESP_SC=162]="ON_OUTPUT_CARD_RESP_SC",t[t.ON_PLAY_CIRCLE_ACTION_NONE_CS=163]="ON_PLAY_CIRCLE_ACTION_NONE_CS",t[t.ON_PLAY_CIRCLE_ACTION_NONE_SC=164]="ON_PLAY_CIRCLE_ACTION_NONE_SC",t[t.ON_PLAY_CIRCLE_ACTION_PASS_CS=165]="ON_PLAY_CIRCLE_ACTION_PASS_CS",t[t.ON_PLAY_CIRCLE_ACTION_PASS_SC=166]="ON_PLAY_CIRCLE_ACTION_PASS_SC",t[t.ON_PLAY_CIRCLE_ACTION_PENG_CS=167]="ON_PLAY_CIRCLE_ACTION_PENG_CS",t[t.ON_PLAY_CIRCLE_ACTION_PENG_SC=168]="ON_PLAY_CIRCLE_ACTION_PENG_SC",t[t.ON_PLAY_CIRCLE_ACTION_DIAN_GANG_CS=169]="ON_PLAY_CIRCLE_ACTION_DIAN_GANG_CS",t[t.ON_PLAY_CIRCLE_ACTION_DIAN_GANG_SC=170]="ON_PLAY_CIRCLE_ACTION_DIAN_GANG_SC",t[t.ON_PLAY_CIRCLE_ACTION_AN_GANG_CS=171]="ON_PLAY_CIRCLE_ACTION_AN_GANG_CS",t[t.ON_PLAY_CIRCLE_ACTION_AN_GANG_SC=172]="ON_PLAY_CIRCLE_ACTION_AN_GANG_SC",t[t.ON_PLAY_CIRCLE_ACTIONP_PENG_GANG_CS=173]="ON_PLAY_CIRCLE_ACTIONP_PENG_GANG_CS",t[t.ON_PLAY_CIRCLE_ACTIONP_PENG_GANG_SC=174]="ON_PLAY_CIRCLE_ACTIONP_PENG_GANG_SC",t[t.ON_HU_CARD_REQ_CS=175]="ON_HU_CARD_REQ_CS",t[t.ON_HU_CARD_RESP_SC=176]="ON_HU_CARD_RESP_SC",t[t.ON_TEST_CONFIG_MY_CARDS_CS=701]="ON_TEST_CONFIG_MY_CARDS_CS",t[t.ON_TEST_CONFIG_MY_CARDS_SC=702]="ON_TEST_CONFIG_MY_CARDS_SC",t[t.ON_TEST_CONFIG_LAST_CARDS_CS=703]="ON_TEST_CONFIG_LAST_CARDS_CS",t[t.ON_TEST_CONFIG_LAST_CARDS_SC=704]="ON_TEST_CONFIG_LAST_CARDS_SC",t[t.PROTO_END=705]="PROTO_END"
}(MsgAction||(MsgAction={}));var NetEventDispatcher=function(){function t(){}return Object.defineProperty(t.prototype,"instance",{get:function(){return void 0==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t}();__reflect(NetEventDispatcher.prototype,"NetEventDispatcher");var SessionChannel=function(t){function e(){var e=t.call(this)||this;return e.m_sock=null,e.gameSock=null,e.connected=!1,e.m_sock=new egret.WebSocket,e.m_sock.type=egret.WebSocket.TYPE_BINARY,e.m_sock.addEventListener(egret.ProgressEvent.SOCKET_DATA,e.OnRecvMsg,e),e.m_sock.addEventListener(egret.Event.CONNECT,e.OnSocketOpen,e),e.m_sock.addEventListener(egret.Event.CLOSE,e.OnSocketClose,e),e.m_sock.addEventListener(egret.IOErrorEvent.IO_ERROR,e.OnSocketError,e),e}return __extends(e,t),e.CreateChannel=function(){var t=new e;return t},e.prototype.OpenChannel=function(t,e,n){this.m_sock.connectByUrl(t),this.m_sock.once(egret.Event.CONNECT,e,n),egret.warn("CONNECTING "+t)},e.prototype.OnSocketOpen=function(){egret.warn("CONNECTED"),this.connected=!0},e.prototype.OnSocketError=function(){this.connected=!1},e.prototype.OnSocketClose=function(){this.connected=!1},e.prototype.OnRecvMsg=function(t){var e=new egret.ByteArray;this.m_sock.readBytes(e);var n=ProtoFactory.getInstance().GetClazz(EventConst.ON_COM_PROTO_RESP_CS),i=n.decode(e.buffer),n=ProtoFactory.getInstance().GetClazz(i.cid),o=n.decode(e.buffer);EventManager.instance.dispatchEventWith(GlobalEvents.ReceiveServerMsg,!1,o)},e.prototype.SendText=function(t){this.m_sock.writeUTF(t)},e.prototype.SendBinary=function(t){var e=t.toArrayBuffer(),n=e.byteLength,i=new egret.ByteArray(e);n>0&&(this.m_sock.writeBytes(i),this.m_sock.flush())},e.prototype.CloseChannel=function(){this.m_sock.close()},e}(egret.DisplayObjectContainer);__reflect(SessionChannel.prototype,"SessionChannel");var ProtoFactory=function(){function t(){this.clazz_arr=null,this.clazz_arr=[],this.Init()}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.prototype.Init=function(){var t=RES.getRes("base_proto"),e=dcodeIO.ProtoBuf.loadProto(t);this.clazz_arr[EventConst.ON_COM_REQ_CS]=e.build("ComReqProto"),this.clazz_arr[EventConst.ON_COM_PROTO_RESP_CS]=e.build("ComRespProto"),this.clazz_arr[EventConst.ON_COM_ERROR_PROTO_SC]=e.build("ComErrRespProto"),this.clazz_arr[EventConst.ComNotifyProto]=e.build("ComNotifyProto"),this.clazz_arr[EventConst.GMComRespProto]=e.build("GMComRespProto");var t=RES.getRes("login_proto"),e=dcodeIO.ProtoBuf.loadProto(t);this.clazz_arr[EventConst.ON_GM_LOGIN_REQ_CS]=e.build("GmLoginReqProto"),this.clazz_arr[EventConst.ON_GM_LOGIN_RESP_SC]=e.build("GmLoginRespProto"),this.clazz_arr[EventConst.ON_LOGIN_REQ_CS]=e.build("LoginReqProto"),this.clazz_arr[EventConst.ON_LOGIN_RESP_SC]=e.build("LoginRespProto"),this.clazz_arr[EventConst.ON_PLAYER_REG_REQ_CS]=e.build("RegReqProto"),this.clazz_arr[EventConst.ON_PLAYER_REG_RESP_SC]=e.build("RegRespProto");var t=RES.getRes("logic_proto"),e=dcodeIO.ProtoBuf.loadProto(t);this.clazz_arr[EventConst.ON_HOUSE_LIST_REQ_CS]=e.build("HouseListReq"),this.clazz_arr[EventConst.ON_HOUSE_LIST_RESP_CS]=e.build("HouseListResp"),this.clazz_arr[EventConst.ON_MACHINE_LIST_REQ_CS]=e.build("MachineListReq"),this.clazz_arr[EventConst.ON_MACHINE_LIST_RESP_CS]=e.build("MachineListResp"),this.clazz_arr[EventConst.ON_MACHINE_OWN_REQ_CS]=e.build("OwnMachineReq"),this.clazz_arr[EventConst.ON_MACHINE_OWN_RESP_CS]=e.build("OwnMachineResp"),this.clazz_arr[EventConst.ON_MACHINE_CANCEL_REQ_CS]=e.build("CancelOwnMachineReq"),this.clazz_arr[EventConst.ON_MACHINE_CANCEL_RESP_CS]=e.build("CancelOwnMachineResp"),this.clazz_arr[EventConst.ON_ADDPOINTS_REQ_CS]=e.build("AddPointsReq"),this.clazz_arr[EventConst.ON_ADDPOINTS_RESP_SC]=e.build("AddPointsResp"),this.clazz_arr[EventConst.ON_SUBOINTS_REQ_CS]=e.build("SubPointsReq"),this.clazz_arr[EventConst.ON_SUBPOINTS_RESP_SC]=e.build("SubPointsResp"),this.clazz_arr[EventConst.ON_BEGPOINT_REQ_CS]=e.build("BetPointsReq"),this.clazz_arr[EventConst.ON_BEGPOINT_RESP_CS]=e.build("BetPointsResp"),this.clazz_arr[EventConst.ON_OPEN1_CARD_REQ_CS]=e.build("OpenCardReq"),this.clazz_arr[EventConst.ON_OPEN1_CARD_RESP_CS]=e.build("OpenCardResp"),this.clazz_arr[EventConst.ON_OPEN2_CARD_REQ_CS]=e.build("OpenCardReq"),this.clazz_arr[EventConst.ON_OPEN2_CARD_RESP_CS]=e.build("OpenCardResp"),this.clazz_arr[EventConst.ON_CARD_DOUBLE_RATIO_REQ_CS]=e.build("CardRatioReq"),this.clazz_arr[EventConst.ON_CARD_DOUBLE_RATIO_RESP_SC]=e.build("CardRatioResp"),this.clazz_arr[EventConst.ON_GAIN_POINT_REQ_CS]=e.build("GainPointsReq"),this.clazz_arr[EventConst.ON_GAIN_POINT_RESP_SC]=e.build("GainPointsResp"),this.clazz_arr[EventConst.ON_LOCK_POKE_REQ_CS]=e.build("LockCardReq"),this.clazz_arr[EventConst.ON_LOCK_POKE_RESP_SC]=e.build("LockCardResp"),this.clazz_arr[EventConst.ON_UNLOCK_POKE_REQ_CS]=e.build("LockCardReq"),this.clazz_arr[EventConst.ON_UNLOCK_POKE_RESP_SC]=e.build("LockCardResp"),this.clazz_arr[EventConst.ON_RESERVED_MACHINE_REQ_CS]=e.build("LockCardReq"),this.clazz_arr[EventConst.ON_RESERVED_MACHINE_RESP_SC]=e.build("LockCardResp"),this.clazz_arr[EventConst.ON_UNRESERVED_MACHINE_REQ_CS]=e.build("LockCardReq"),this.clazz_arr[EventConst.ON_UNRESERVED_MACHINE_RESP_SC]=e.build("LockCardResp")},t.prototype.newProto=function(t){if(t<EventConst.PROTO_BEGIN||t>=EventConst.PROTO_END)return null;var e=new this.clazz_arr[t];return e},t.prototype.GetClazz=function(t){return t<EventConst.PROTO_BEGIN||t>=EventConst.PROTO_END?null:this.clazz_arr[t]},t}();ProtoFactory.instance=null,__reflect(ProtoFactory.prototype,"ProtoFactory");var Alert=function(t){function e(){var e=t.call(this)||this;return e.bgWidth=-1,e.bgHeight=-1,e.txtSize=24,e.text="",e.autoclose=!1,e.touchEnabled=!0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e.prototype.show=function(t,e,n,i,o,r,s){void 0===i&&(i=24),void 0===o&&(o=-1),void 0===r&&(r=-1),void 0===s&&(s=!1),this.initRes(t,e,n,i,o,r,s)},e.prototype.initRes=function(t,e,n,i,o,r,s){void 0===i&&(i=24),void 0===o&&(o=-1),void 0===r&&(r=-1),void 0===s&&(s=!1),t.addChild(this),this.visible=!1,this.text=n,o>0&&(this.bgWidth=o),r>0&&(this.bgHeight=r),this.txtSize=i,this.okBtn?this.onLoadOver():RES.getResAsync(e,this.onLoadOver,this),s&&(this.closeTimeout=egret.setTimeout(this.onCloseTimeout,this,1500))},e.prototype.onCloseTimeout=function(){egret.clearTimeout(this.closeTimeout),this.hide()},e.prototype.onLoadOver=function(){this.okBtn||(this.bg=ObjectUtil.createBitmapByName("tipsbg",0,0,this),this.bgHeight>0&&(this.bg.scaleY=this.bgHeight/this.bg.height),this.bgWidth>0&&(this.bg.scaleX=this.bgWidth/this.bg.width),this.okBtn=new btns.BtnBmBm("sokbtn","okbtntxt"),this.addChild(this.okBtn),this.bgWidth<=0&&(this.bgWidth=this.bg.width),this.bgHeight<=0&&(this.bgHeight=this.bg.height),this.tipsTxt=ObjectUtil.createTextField(this.text,this.txtSize,ColorUtil.white,this.bgWidth-100,this.bgHeight-160,0,0,this,!0,egret.HorizontalAlign.CENTER,1,!0,!1),utils.setProps(this.tipsTxt,{x:this.bg.x+50,y:this.bg.y+80}),utils.setProps(this.okBtn,{x:this.tipsTxt.x+(this.tipsTxt.width>>1)-(this.okBtn.width>>1),y:this.bgHeight-this.okBtn.height-20})),this.okBtn.ctrlTouch(!0),this.okBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOk,this),this.x=(this.stage.stageWidth>>1)-(this.bgWidth>>1),this.y=(this.stage.stageHeight>>1)-(this.bgHeight>>1),this.tipsTxt.text=this.text,this.visible=!0},e.prototype.onOk=function(){this.hide()},e}(egret.DisplayObjectContainer);__reflect(Alert.prototype,"Alert");var btns;!function(t){function e(t,e){function n(t,n){var o="down"==n?i+e:i;egret.Tween.removeTweens(t),egret.Tween.get(t).to({y:o},60,egret.Ease.bounceOut)}void 0===e&&(e=5),t.touchEnabled=!0;var i=t.y;t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){e.target==t&&n(t,"down")},this),t.addEventListener(egret.TouchEvent.TOUCH_END,function(e){n(t,"up")},this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(e){n(t,"up")},this)}function n(t,e,n){function i(t,e){var n="small"==e?.9:1;egret.Tween.removeTweens(t),egret.Tween.get(t).to({scaleX:n,scaleY:n},60,egret.Ease.bounceOut)}t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){e.target==t&&i(t,"small")},this),t.addEventListener(egret.TouchEvent.TOUCH_END,function(o){o.target==t&&(i(t,"big"),e&&e.call(n))},this),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(e){e.target==t&&i(t,"big")},this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(e){i(t,"big")},this)}function i(t,e,n){function i(t,e){var n="small"==e?.93:1;0==o&&o++,egret.Tween.removeTweens(t),egret.Tween.get(t).to({scaleX:n,scaleY:n},60,egret.Ease.bounceOut)}var o=0;t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){i(t,"small")},this),t.addEventListener(egret.TouchEvent.TOUCH_END,function(o){i(t,"big"),e&&e.call(n)},this),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(e){i(t,"big")},this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(e){i(t,"big")},this)}function o(t,e,n){function i(t,e){var n="small"==e?.93:1;0==o&&(t.x=t.x+Math.floor(.5*t.width),t.y=t.y+Math.floor(.5*t.height),t.anchorOffsetX=Math.floor(.5*t.width),t.anchorOffsetY=Math.floor(.5*t.height),o++),egret.Tween.removeTweens(t),egret.Tween.get(t).to({scaleX:n,scaleY:n},60,egret.Ease.bounceOut)}var o=0;t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){i(t,"small")},this),t.addEventListener(egret.TouchEvent.TOUCH_END,function(o){i(t,"big"),e&&e.call(n)},this),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(e){i(t,"big")},this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(e){i(t,"big")},this)}function r(t,e,n){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x=-1500,t.y=n+t.height/2,egret.Tween.get(t).to({x:e+t.width/2},120,egret.Ease.bounceOut)}function s(t,e,n){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x=e+t.width/2,t.y=-700,egret.Tween.get(t).to({y:n+t.height/2},120,egret.Ease.bounceOut)}function a(t,e,n){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x=e+t.width/2,t.y=n+t.height/2,t.alpha=0,egret.Tween.get(t).to({alpha:1},200,egret.Ease.bounceOut)}function h(t,e,n){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x=e+t.width/2,t.y=n+t.height/2,t.scaleX=1.2,t.scaleY=1.2,egret.Tween.get(t).to({scaleX:1,scaleY:1},120,egret.Ease.bounceOut)}function c(t,e,n){for(var i in e)t[i]=e[i];n&&(t.anchorOffsetX=t.width*n[0],t.anchorOffsetY=t.height*n[1])}function l(t,e){for(var n in e)t.addChild(e[n])}var d=function(e){function n(n,i,o){void 0===i&&(i=2655016),void 0===o&&(o=1858332);var r=e.call(this)||this;r.nPadding=10,r.numColorClick=o,r.numColorNormal=i,r.addEventListener(egret.TouchEvent.TOUCH_BEGIN,r.touchSelf,r),r.addEventListener(egret.TouchEvent.TOUCH_END,r.touchSelf,r),r.touchEnabled=!0;var s=new egret.TextField;return t.setProps(s,{size:20,x:r.nPadding,y:r.nPadding}),r.addChild(s),r.tfTxBtn=s,r.SetLabel(n),r}return __extends(n,e),n.prototype.SetBtnID=function(t){this.btn_id=t},n.prototype.GetBtnID=function(){return this.btn_id},n.prototype.touchSelf=function(t){this.drawSelf(t.type==egret.TouchEvent.TOUCH_BEGIN?this.numColorClick:this.numColorNormal)},n.prototype.drawSelf=function(t){this.graphics.clear(),this.graphics.beginFill(t),this.graphics.drawRoundRect(0,0,this.width,this.height,this.height/3,this.height/3),this.graphics.endFill()},n.prototype.SetLabel=function(t){this.tfTxBtn.text=t,this.width=this.tfTxBtn.width+2*this.nPadding,this.height=this.tfTxBtn.height+2*this.nPadding,this.drawSelf(this.numColorNormal)},n}(egret.Sprite);t.BtnRoundRect=d,__reflect(d.prototype,"btns.BtnRoundRect");var p=function(e){function n(n,i,o,r){var s=e.call(this)||this,a=new egret.Bitmap(RES.getRes(n));t.setProps(a,{x:a.width/2,y:a.height/2},[.5,.5]);var h=new egret.Bitmap(RES.getRes(i));return t.setProps(h,{x:a.x,y:a.y},[.5,.5]),t.addChildren(s,[a,h]),r&&t.setProps(h,r),o&&t.setProps(a,o),s.bmBgBtn=a,s.bmTxBtn=h,s}return __extends(n,e),n.prototype.ctrlTouch=function(t){this.touchEnabled=t,this.alpha=t?1:.5},n.prototype.updateBtn=function(t,e){this.bmBgBtn.texture=RES.getRes(t),this.bmTxBtn.texture=RES.getRes(e)},n}(egret.DisplayObjectContainer);t.BtnBmBm=p,__reflect(p.prototype,"btns.BtnBmBm");var u=function(e){function n(n,i,o,r){var s=e.call(this)||this,a=new egret.Bitmap(RES.getRes(n));o&&t.setProps(a,o,[.5,.5]),t.setProps(a,{x:a.width/2,y:a.height/2,name:"bg_btn"},[.5,.5]),o&&t.setProps(a,o,[.5,.5]);var h=new egret.TextField;return t.setProps(h,{text:i,x:a.width/2,y:a.height/2,name:"tx_btn"},[.5,.5]),r&&t.setProps(h,r),t.addChildren(s,[a,h]),s.txBtn=h,s.bgBtn=a,s}return __extends(n,e),n.prototype.modifyPropsTx=function(e,n){t.setProps(this.txBtn,e,n)},n.prototype.modifyPropsBgBtn=function(e,n){t.setProps(this.bgBtn,e,n)},n}(egret.DisplayObjectContainer);t.BtnBmTf=u,__reflect(u.prototype,"btns.BtnBmTf"),t.initFloatBtn=e,t.initScaleBtn=n,t.initScaleBtn1=i,t.initScaleBtn2=o,t.inScalePanel2=r,t.inScalePanel3=s,t.inScalePanel=a,t.inScalePanel1=h,t.setProps=c,t.addChildren=l}(btns||(btns={}));var ColorUtil=function(){function t(){}return t}();ColorUtil.white=16777215,ColorUtil.black=0,ColorUtil.red=16711680,ColorUtil.lime=65280,ColorUtil.blue=255,ColorUtil.gold=16766720,ColorUtil.yellow=16776960,__reflect(ColorUtil.prototype,"ColorUtil");var ObjectUtil=function(){function t(){}return t.createBitMapText=function(t,e,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=0),void 0===o&&(o=0),void 0===r&&(r=egret.HorizontalAlign.RIGHT);var s=new egret.BitmapText;return s.textAlign=r,s.font=RES.getRes(t),s.text=e,s.x=i,s.y=o,null!=n&&n.addChild(s),s},t.createTextField=function(t,e,n,i,o,r,s,a,h,c,l,d,p,u,_){void 0===h&&(h=!1),void 0===c&&(c=egret.HorizontalAlign.LEFT),void 0===l&&(l=1),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===_&&(_=egret.TextFieldType.DYNAMIC);var E=new egret.TextField;return E.width=i,o>0&&(E.height=o),E.size=e,E.textColor=n,E.x=r,E.y=s,E.text=t,E.textAlign=c,E.alpha=l,E.bold=h,E.border=p,E.displayAsPassword=u,E.type=_,a.addChild(E),E},t.createBitMapTextAutoAlign=function(t,e,n,i,o,r,s){void 0===n&&(n=null),void 0===i&&(i=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=egret.HorizontalAlign.RIGHT);var a=new BitmapTextAutoAlign;return a.setTextAlign(s),a.bitmapText.font=RES.getRes(t),a.fixedCoordinateX=i,a.bitmapText.y=o,a.bitmapText.letterSpacing=r,a.text=e,null!=n&&n.addChild(a),a},t.createBitmapByName=function(t,e,n,i,o,r,s,a){void 0===o&&(o=-1),void 0===r&&(r=-1),void 0===s&&(s=-1),void 0===a&&(a=-1);var h=new egret.Bitmap,c=RES.getRes(t);return h.texture=c,h.x=e,h.y=n,o>0&&(h.height=o),r>0&&(h.width=r),s>0&&(h.scaleX=s),a>0&&(h.scaleY=a),i.addChild(h),h},t.horizontalLayout=function(t,e,n){for(var i=n-e,o=i/t.length,r=o-t[0].width,s=r/t.length+o,a=0;a<t.length;a++){var h=t[a];h.x=e+s*a}},t.tileList=function(t,e,n,i){for(var o=n-e,r=o/t.length,s=r-t[0].width,a=s/t.length+r,h=0;h<t.length;h++){var c=t[h];c.x=e+a*h}},t.tileDisplayObjectList=function(t,e,n,i){for(var o=0,r=0,s=0;s<t.length;s++){var a=t[s];o=Math.floor(s/e),r=Math.floor(s%e),a.x=(a.width+n)*r,a.y=(a.height+i)*o,a.parent&&a.parent.addChild(a)}},t}();__reflect(ObjectUtil.prototype,"ObjectUtil");var PopAlert=function(t){function e(){var e=t.call(this)||this;return e.bgWidth=-1,e.bgHeight=-1,e.txtSize=24,e.text="",e.autoclose=!1,e.okCallBack=void 0,e.context=void 0,e.touchEnabled=!0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.hide=function(){this.okBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onOk,this),this.cancelBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oncancel,this),this.parent&&this.parent.removeChild(this)},e.prototype.show=function(t,e,n,i,o,r,s,a,h){void 0===i&&(i=24),void 0===o&&(o=-1),void 0===r&&(r=-1),void 0===s&&(s=!1),void 0===a&&(a=void 0),void 0===h&&(h=void 0),this.okCallBack=a,this.context=h,this.initRes(t,e,n,i,o,r,s)},e.prototype.initRes=function(t,e,n,i,o,r,s){void 0===i&&(i=24),void 0===o&&(o=-1),void 0===r&&(r=-1),void 0===s&&(s=!1),t.addChild(this),this.visible=!1,this.text=n,o>0&&(this.bgWidth=o),r>0&&(this.bgHeight=r),this.txtSize=i,this.okBtn?this.onLoadOver():RES.getResAsync(e,this.onLoadOver,this),s&&(this.closeTimeout=egret.setTimeout(this.onCloseTimeout,this,1500))},e.prototype.onCloseTimeout=function(){egret.clearTimeout(this.closeTimeout),this.hide()},e.prototype.onLoadOver=function(){if(void 0==this.okBtn){this.bg=ObjectUtil.createBitmapByName("tipsbg",0,0,this),this.rescontainer=new egret.DisplayObjectContainer,this.addChild(this.rescontainer),this.bgHeight>0&&(this.bg.scaleY=this.bgHeight/this.bg.height),this.bgWidth>0&&(this.bg.scaleX=this.bgWidth/this.bg.width),this.okBtn=new ButtonX,this.okBtn.setSkin("sokbtn","okbtntxt"),this.rescontainer.addChild(this.okBtn),this.cancelBtn=new ButtonX,this.cancelBtn.setSkin("scancelbtn","cancelbtntxt"),this.rescontainer.addChild(this.cancelBtn),this.bgWidth<=0&&(this.bgWidth=this.bg.width),this.bgHeight<=0&&(this.bgHeight=this.bg.height),this.tipsTxt=ObjectUtil.createTextField(this.text,this.txtSize,ColorUtil.white,this.bgWidth-100,this.txtSize+5,0,0,this.rescontainer,!0,egret.HorizontalAlign.CENTER,1,!0,!1),utils.setProps(this.tipsTxt,{x:this.bg.x+50,y:this.bg.y+80});var t=ObjectUtil.createBitmapByName("sinputtxtbg",this.tipsTxt.x,this.tipsTxt.y+this.tipsTxt.height+15,this.rescontainer);t.height=this.tipsTxt.height+20,t.width=this.tipsTxt.width,this.inputTxt=ObjectUtil.createTextField("123456",this.txtSize,ColorUtil.black,this.tipsTxt.width,this.txtSize+5,t.x+7,t.y+7,this.rescontainer,!0,egret.HorizontalAlign.LEFT,1,!0,!1,!0,egret.TextFieldType.INPUT),this.inputTxt.restrict="^一-龥",this.okBtn.scaleX=.7,this.okBtn.scaleY=.7,this.cancelBtn.scaleX=.7,this.cancelBtn.scaleY=.7,utils.setProps(this.okBtn,{x:this.inputTxt.x,y:this.inputTxt.y+this.inputTxt.height+30}),utils.setProps(this.cancelBtn,{x:this.okBtn.x+this.okBtn.width+15,y:this.okBtn.y})}this.okBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onOk,this),this.cancelBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oncancel,this),this.okBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOk,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oncancel,this),this.x=(this.stage.stageWidth>>1)-(this.bgWidth>>1),this.y=(this.stage.stageHeight>>1)-(this.bgHeight>>1),this.tipsTxt.text=this.text,this.visible=!0},e.prototype.oncancel=function(){this.hide()},e.prototype.onOk=function(){void 0!=this.okCallBack&&this.okCallBack.apply(this.context,[this.tipsTxt.text]),this.hide()},e}(egret.DisplayObjectContainer);__reflect(PopAlert.prototype,"PopAlert");var StringUtil=function(){function t(){}return t.tranNumberToString=function(t,e){void 0===e&&(e=".");for(var n=String(t),i="",o=0;o<n.length;o++){var r=n.charAt(n.length-o-1);i=r+i,Number(o+1)%3==0&&(i=e+i)}return i.charAt(0)==e&&(i=i.slice(1)),i},t}();__reflect(StringUtil.prototype,"StringUtil");var TimerUtil=function(){function t(t,e){void 0===e&&(e=-1),this.timer=null,this.callbackList=[],this.timer=new egret.Timer(t,e),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)}return t.prototype.add=function(t,e){this.callbackList[t]||(this.callbackList[t]=e)},t.prototype.remove=function(t){this.callbackList[t]&&(this.callbackList[t]=null,delete this.callbackList[t])},t.prototype.run=function(){this.timer.stop(),this.timer.start()},t.prototype.stopTm=function(){this.timer.running&&this.timer.stop()},t.prototype.onTimer=function(){for(var t=0;t<this.callbackList.length;t++)this.callbackList[t]&&this.callbackList[t]instanceof Function&&this.callbackList[t]()},t}();__reflect(TimerUtil.prototype,"TimerUtil");var TipShow=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return __extends(e,t),e.prototype.init=function(){this.textTip=new egret.TextField,utils.setProps(this.textTip,{}),this.imgTip=new egret.Bitmap,this.addChild(this.imgTip),this.addEventListener(egret.TouchEvent.TOUCH_END,this.funTouchEnd,this)},e.prototype.funTouchEnd=function(){this.funTouch.call(this.context),this.onRem()},e.prototype.updateDraw=function(t,e){this.graphics.clear(),this.graphics.beginFill(e,t),this.graphics.drawRect(0,0,this.parent.width,this.parent.height),this.graphics.endFill()},e.prototype.timeoutTouch=function(t,e){var n=this;this.funTouch=t,this.context=e,this.touchEnabled=!1,egret.setTimeout(function(){n.touchEnabled=!0},this,1500)},e.prototype.onRem=function(){this.parent.removeChild(this)},e.prototype.onAdd=function(t,e,n,i,o){void 0===i&&(i=.5),void 0===o&&(o=0),t.addChild(this),this.updateDraw(i,o),this.timeoutTouch(e,n)},e.prototype.setImg=function(t,e,n){void 0===n&&(n=[0,0]),utils.setProps(this.imgTip,{texture:RES.getRes(t)}),utils.setProps(this.imgTip,e,n)},e.getInst=function(){return this.inst||(this.inst=new e),this.inst},e}(egret.Sprite);__reflect(TipShow.prototype,"TipShow");var utils=function(){function t(){}return t.consoleInfoObj=function(t,e){for(var n in e);},t.concatObjToUrlGet=function(t){var e="";for(var n in t)e+="&"+n+"="+t[n];return e.substr(1)},t.bToN=function(t){return t?1:0},t.getDataFromLocal=function(t,e){var n=egret.localStorage.getItem(e);if(n){var i=JSON.parse(n);for(var o in i)t[o]=i[o]}},t.saveDataToLocal=function(t,e){var n={};for(var i in t)n[i]=t[i];var o=JSON.stringify(n);egret.localStorage.setItem(e,o)},t.getRequest=function(){var t=location.search,e=new Object;if(-1!=t.indexOf("?"))for(var n=t.substr(1),i=n.split("&"),o=0;o<i.length;o++)e[i[o].split("=")[0]]=decodeURIComponent(i[o].split("=")[1]);return e},t.moveObjLeftLoop=function(t,e){var n;for(var i in t)n=t[i],n.x+=e;if(n=t[1],n.x<0){var o=t.shift(),r=t[t.length-1];o.x=r.x+r.width,t.push(o)}},t.moveObjRightLoop=function(t,e){var n;for(var i in t)n=t[i],n.x+=e;if(n=t[1],n.x>0){var o=t.pop(),r=t[0];o.x=r.x-r.width,t.unshift(o)}},t.remELemFromParent=function(t){var e;for(var n in t)e=t[n],e.parent.removeChild(e)},t.reclcaimArr=function(t,e){for(var n in t)e.splice(e.indexOf(t[n]),1)},t.getWindowWidth=function(){var t=480;return window&&window.innerWidth?t=window.innerWidth:document.body&&document.body.clientWidth&&(t=document.body.clientWidth),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientWidth),t},t.getWindowHeight=function(){var t=800;return window&&window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientHeight),t},t.getStrMax=function(t,e){return this.lengthChars(t)>e,t},t.lengthChars=function(t){for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n)>255?2:1;return e},t.toogleVisible=function(t,e){t.visible=e},t.giveMask=function(e){var n=new egret.Shape;return n.graphics.beginFill(0,1),n.graphics.drawRect(0,0,e.width,e.height),n.graphics.endFill(),t.setProps(n,{x:e.x-e.anchorOffsetX,y:e.y-e.anchorOffsetY}),e.parent&&e.parent.addChild(n),e.mask=n,n},t.showInfo=function(t){},t.dragToPosition=function(t){function e(){n.x=t.x,n.y=t.y,n.text="x:"+parseInt(t.x)+",y:"+parseInt(t.y)}var n=new egret.TextField;this.setProps(n,{x:t.x,y:t.y,text:""+parseInt(t.x)+","+parseInt(t.y),size:15,textColor:0}),t.parent.addChild(n),window.debugScope=t.parent,window.keyUp=function(){t.y-=2,e()},window.keyRight=function(){t.x+=2,e()},window.keyDown=function(){t.y+=2,e()},window.keyLeft=function(){t.x-=2,e()},e()},t.hitTestRectRect=function(e,n,i){void 0===i&&(i={xObj1:1,yObj1:1,xObj2:1,yObj2:1});var o=e.getBounds(),r=n.getBounds();return t.setProps(o,{width:o.width*i.xObj1,height:o.height*i.yObj1}),t.setProps(r,{width:r.width*i.xObj2,height:r.height*i.yObj2}),o.x=e.x-e.anchorOffsetX*i.xObj1,o.y=e.y-e.anchorOffsetY*i.yObj1,r.x=n.x-n.anchorOffsetX*i.xObj2,r.y=n.y-n.anchorOffsetY*i.yObj2,o.intersects(r)},t.hitTestRoundRound=function(t,e){return this.distPoint(t,e)<t.width/2+e.width/2?!0:!1},t.angleToRadian=function(t){return t*Math.PI/180},t.toFixed=function(t,e){return void 0===e&&(e=2),Math.floor(10*t*e)/(10*e)},t.getNumIntDuring=function(t,e){return t+Math.floor(Math.random()*(e+1-t))},t.radianToAngle=function(t){return 180*t/Math.PI},t.getDirPercentXY=function(t,e){var n=e.X-t.X,i=e.Y-t.Y,o=Math.abs(n)+Math.abs(i),r=n/o,s=i/o;return{xPercent:r,yPercent:s}},t.distPoint=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.angleBtwTwoPoints=function(t,e,n,i){var o=Math.abs(t-n),r=Math.abs(e-i),s=Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),a=r/s,h=Math.acos(a),c=Math.round(180/(Math.PI/h));return n>t&&i>e?c=180-c:n==t&&i>e?c=180:n>t&&i==e?c=90:t>n&&i>e?c=180+c:t>n&&i==e?c=270:t>n&&e>i&&(c=360-c),c},t.simpleLineTest=function(t,e,n,i,o,r,s,a){var h;h=(n-t)*(r-e)-(o-t)*(i-e);var c;c=(n-t)*(a-e)-(s-t)*(i-e);var l;l=(s-o)*(e-r)-(t-o)*(a-r);var d;return d=(s-o)*(i-r)-(n-o)*(a-r),0>=h*c&&0>=l*d?!0:!1},t.setProps=function(t,e,n){for(var i in e)t[i]=e[i];n&&(t.anchorOffsetX=t.width*n[0],t.anchorOffsetY=t.height*n[1])},t.newMC=function(t,e){var n=RES.getRes(t.jsonData),i=RES.getRes(t.textureData),o=new egret.MovieClipDataFactory(n,i),r=new egret.MovieClip(o.generateMovieClipData(t.mcName));return e&&e.addChild(r),r},t.doPostRequest=function(t,e,n,i,o){var r=new egret.URLLoader;r.dataFormat=egret.URLLoaderDataFormat.TEXT,r.addEventListener(egret.Event.COMPLETE,n,o),i&&r.addEventListener(egret.IOErrorEvent.IO_ERROR,i,o);var s=new egret.URLRequest(t);s.method=egret.URLRequestMethod.POST,s.data=new egret.URLVariables(e),r.load(s)},t.doGetRequest=function(t,e,n,i,o){var r=new egret.URLLoader;r.dataFormat=egret.URLLoaderDataFormat.TEXT,r.addEventListener(egret.Event.COMPLETE,n,o),i&&r.addEventListener(egret.IOErrorEvent.IO_ERROR,i,o);var s=new egret.URLRequest(t);s.method=egret.URLRequestMethod.GET,s.data=new egret.URLVariables(e),r.load(s)},t.ctrlChildrenTouch=function(t,e){t.touchChildren=e},t.addChildren=function(t,e){for(var n in e)t.addChild(e[n])},t.remChildren=function(t,e){for(var n=0;n<e.length;n++)t.removeChild(e[n])},t}();__reflect(utils.prototype,"utils");var Game=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(egret.Sprite);__reflect(Game.prototype,"Game");var GameScene=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addChild(LayerManager.instance.mapLayer),this.addChild(LayerManager.instance.sceneLayer),this.addChild(LayerManager.instance.windowLayer),this.addChild(LayerManager.instance.topLayer),this.openLogin()},e.prototype.openLogin=function(){BeginModule.instance.show()},e.prototype.startGame=function(){MainModule.instance.show()},e.prototype.changeBg=function(t){},e}(egret.DisplayObjectContainer);__reflect(GameScene.prototype,"GameScene");var Loading=function(t){function e(){var e=t.call(this)||this;return e.resource="resource/assets/loading.png",e.key="loading_png",e.besetTween=!1,e.createView(),e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return void 0==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.loadCompleteHandler=function(t){this.imageLoader.removeEventListener(egret.Event.COMPLETE,this.loadCompleteHandler,this),this.imageLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.loadErrorHandler,this);var e=t.currentTarget;this.banner=new egret.Bitmap(e.data),this.setView()},e.prototype.setView=function(){this.banner.anchorOffsetX=this.banner.width>>1,this.banner.anchorOffsetY=this.banner.height>>1,this.textField.anchorOffsetX=this.textField.width>>1,this.banner.x=LayerManager.instance.stageWidth>>1,this.banner.y=LayerManager.instance.stageHeight>>1,this.textField.x=this.banner.x+20,this.textField.y=this.banner.y-(this.banner.height>>1)-(this.textField.height>>1),this.addChild(this.banner),this.addChild(this.textField),this.besetTween=!0,egret.Tween.get(this.banner,{loop:!0}).to({rotation:360},3e3)},e.prototype.loadErrorHandler=function(t){},e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.show=function(t){void 0===t&&(t=""),LayerManager.instance.topLayer.addChild(this);var e=this.resource;""!=t&&(e=t),this.banner?this.setView():(this.imageLoader=new egret.ImageLoader,this.imageLoader.removeEventListener(egret.Event.COMPLETE,this.loadCompleteHandler,this),this.imageLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.loadErrorHandler,this),this.imageLoader.addEventListener(egret.Event.COMPLETE,this.loadCompleteHandler,this),this.imageLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.loadErrorHandler,this),this.imageLoader.load(e))},e.prototype.hide=function(){this.parent&&this.parent.removeChild(this)},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);Loading._instance=void 0,__reflect(Loading.prototype,"Loading");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=t.call(this)||this;return e.beCreateChildren=!1,e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e}return __extends(e,t),e.prototype.onAdd=function(){0==this.beCreateChildren&&this.createChildren()},e.prototype.createChildren=function(){if(void 0!=this.stage||1!=this.beCreateChildren){this.beCreateChildren=!0,t.prototype.createChildren.call(this),this.stage.orientation!=egret.OrientationMode.LANDSCAPE&&(this.stage.orientation=egret.OrientationMode.LANDSCAPE),Common.stageW=Math.ceil(window.GetWindowWidth()/(window.GetWindowHeight()/1136)),Common.stageH=1136,this.stage.setContentSize(Common.stageH,Common.stageW),LayerManager.instance.initLayer(),LayerManager.instance.stageWidth=Common.stageW,LayerManager.instance.stageHeight=Common.stageH;var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),Loading.instance.show(),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),HttpConnect.instance.addHttpListener("command1",this.onrecieve1,this),HttpConnect.instance.sendPostRequest("http://localhost/post_test.php","p1=postP1&p2=postP2")}},e.prototype.onrecieve1=function(t){console.log("main 收到数据， rest 数据 -------》 ",t.type,t.data)},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")
},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(Loading.instance.hide(),this.startCreateScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&Loading.instance.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.startCreateScene=function(){var t=new GameScene;this.addChild(t),HttpConnect.instance.addHttpListener("command1",this.onrecieve,this);var e=egret.getTimer(),n=this.encrypStr("525400b565aa",e,5),i="http://gongapi.wanyishou.com/Transaction/Add",o="10000000&1&1&1&2&525400b565aa&"+e+"&5&"+n,r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.open(i,egret.HttpMethod.POST),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(o),r.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),r.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),r.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)},e.prototype.encrypStr=function(t,e,n){var i=[];i.push(t),i.push(e),i.push(n),i.sort();var o="";return o=i[0]+i[1]+i[2]},e.prototype.onPostComplete=function(t){var e=t.currentTarget;console.log("post data : ",e.response);var n=new egret.TextField;n.size=18,n.text="POST response:\n"+e.response.substring(0,50)+"...",this.addChild(n),n.x=300,n.y=70},e.prototype.onPostIOError=function(t){console.log("post error : "+t)},e.prototype.onPostProgress=function(t){console.log("post progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},e.prototype.onrecieve=function(t){},e}(eui.UILayer);Main.Main=null,__reflect(Main.prototype,"Main");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function o(t){e.call(i,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);